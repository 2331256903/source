<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
/*子串的识别:
*   es6之前哦安短字符串是否包含子串, 通常使用indexOf()方法, es6新增:
*   include() 返回布尔值, 判断是否找到参数字符串
*   startsWith() 返回布尔值, 判断参数字符串是否在原字符串的头部
*   endsWith() 返回布尔值, 判断参数字符串是否在原字符串的尾部
*  以上三个方法均可以接收两个参数, 需要搜索的字符串和可选的起始位置索引
* */
let string = "apple, banana, orange"
string.includes("banana") // true
string.startsWith("apple") // true
string.startsWith("banana", 6) // true
/* 注意: 这三个方法值返回布尔值, 想要知道子串的位置, 还是要使用indexOf和lastIndexOf
*       这三个方法如果传入了正则表达式而不是字符串, 会直接抛出错误, 而indexOf和lastIndexOf会将正则表达式转化为字符串并搜索它
*  */

/* 字符串重复:
*  repeat() 返回新的字符串, 表示将字符串重复指定次数返回
*  */
console.log("Hello, ".repeat(2)) // "Hello, Hello, "
// 如果参数是小数, 向下取整
"haha".repeat(2.2) // "hahahaha"
// 如果参数为0至-1之间的小数, 则取整到0, repeat零次
// 如果参数为NaN, repeat零次
// 如果参数是负数或Infinity会报错
// 如果参数为字符串, 会将字符串先转化为数字

/*  字符串补全
*   padStart: 返回新的字符串, 表示用参数字符串从头部(左侧)补全原字符串
*   padEnd: 相反
* 以上两个方法接收两个参数, 第一个参数是指定生成的字符串的最小长度, 第二个参数是用来补全的字符串, 如果没有指定第二个参数, 则默认用空格补全
*  */
console.log("h".padStart(5, "o")) // "ooooh"
// 如果指定的字符串小于等于原字符串长度, 则返回原字符串
// 如果原字符串加上补全字符串长度大于指定长度, 则截去超出位数的补全字符串
// 常用于补全位数
console.log("123".padStart(10, "0"))

/* 模板字符串
*   相当于加强版的字符串, 使用反引号`, 除了作为普通的字符串, 还可以用来定义多行字符串, 还可以在字符串中加入变量和表达式, 用法:
*  */
// 普通字符串
let string2 = `Hello'\n'World!`
console.log(string2)
// 多行字符串
let string3 = `Hey,
can you stop angry now?`
console.log(string3)
// 字符串插入变量和表达式 变量名写在${}中, ${}中可以放入JS表达式
let name = "Miko"
let age = 27
let info = `My name is ${name}, I am ${age+1} years old next year.`
// 字符串中调用函数
function f() {
  return "have fun!"
}
let  string4 = `Game start, ${f()}`
/* 注意: 模板字符串中的换行和空格均会被保留 */

/* 标签模板
*   标签模板是一个函数的调用, 其中调用的参数是模板字符串
*  */
alert`Hello World!`
// 等价于 alert('Hello World!')
// 当模板字符串中带有变量, 会把模板字符串参数处理成多个参数
function fn(stringArr, ...values) {
  let result = ""
  for(let i = 0; i < stringArr.length; i++) {
    result += stringArr[i]
    if (values[i]) {
      result += values[i]
    }
    return result
  }
  fn`My Name is ${name}, I am ${age+1} years old next year.`
  // 等价于 f(['My Name is',',I am ',' years old next year.'], 'Miko', 27)
}
/* 应用:
*   1. 过滤HTML字符串, 防止用户输入恶意内容
*   2. 国际化处理(转化多国语言)
*  */
</script>
</body>
</html>
