<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="./css/reset.css">
  <link rel="stylesheet" href="./css/styles.css">
  <script src="../../../node_modules/axios/dist/axios.min.js"></script>
  <title>酷我音乐-无损音质正版在线试听网站</title>
</head>
<body>
  <div class="container">
    <div class="sub-nav">
      <a href="javascript:" page-n="0" class="current">推荐</a>
      <a href="javascript:" page-n="1">排行榜</a>
      <a href="javascript:" page-n="2">歌手</a>
      <a href="javascript:" page-n="3">歌单</a>
      <a href="javascript:" page-n="4">MV</a>
    </div>
    <div class="main main-container" style>
      <div class="banner-out">
        <div class="swiper-out">
          <div class="swiper-inn">
            <div class="swiper-container">
              <!-- ondragstart="return false" 禁止鼠标选中后拖动有半透明图片跟随 -->
              <div class="swiper-wrapper" style="left: -1400px" ondragstart="return false">
                <div class="swiper-slide">
                  <a href="https://www.kuwo.cn/playlist_detail/3460417394"><img src="./source/img/1684069467445_.jpg" alt></a>
                </div>
                <div class="swiper-slide">
                  <a href=""><img src="./source/img/1677749209264_.png" alt></a>
                </div>
                <div class="swiper-slide">
                  <a href="https://www.kuwo.cn/playlist_detail/3480039720"><img src="./source/img/1689402762005_.jpg" alt></a>
                </div>
                <div class="swiper-slide">
                  <a href="https://www.kuwo.cn/playlist_detail/3468351866"><img src="./source/img/1689402854175_.jpg" alt></a>
                </div>
                <div class="swiper-slide">
                  <a href="https://www.kuwo.cn/playlist_detail/3464313714"><img src="./source/img/1689330791866_.jpg" alt></a>
                </div>
                <div class="swiper-slide">
                  <a href="https://www.kuwo.cn/playlist_detail/3467025335"><img src="./source/img/1689303067197_.jpg" alt></a>
                </div>
                <div class="swiper-slide">
                  <a href="https://www.kuwo.cn/playlist_detail/3460417394"><img src="./source/img/1684069467445_.jpg" alt></a>
                </div>
                <div class="swiper-slide">
                  <a href=""><img src="./source/img/1677749209264_.png" alt></a>
                </div>
              </div>
              <div class="swiper-pagination">
                <ul class="swiper-bullets"></ul>
              </div>
              <div class="BtnL"><i><</i></div>
              <div class="BtnR"><i>></i></div>
            </div>
          </div>
          <div class="blur">
            <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="200%" viewBox="0 0 1680 480" preserveAspectRatio="none">
              <defs>
                <filter id="blur">
                  <feGaussianBlur in="SourceGraph" stdDeviation="30"></feGaussianBlur>
                </filter>
              </defs>
              <image href="./source/img/1677749209264_.png" x="0" y="-400" width="100%" height="200%" externalResourcesRequired="true" preserveAspectRatio="none" style="filter: ;display: none" externalresourcesrequired="true"></image>
              <image href="./source/img/1689402762005_.jpg" x="0" y="-400" width="100%" height="200%" externalResourcesRequired="true" preserveAspectRatio="none" style="filter: ;display: none" externalresourcesrequired="true"></image>
              <image href="./source/img/1689402854175_.jpg" x="0" y="-400" width="100%" height="200%" externalResourcesRequired="true" preserveAspectRatio="none" style="filter: ;display: none" externalresourcesrequired="true"></image>
              <image href="./source/img/1689330791866_.jpg" x="0" y="-400" width="100%" height="200%" externalResourcesRequired="true" preserveAspectRatio="none" style="filter: ;display: none" externalresourcesrequired="true"></image>
              <image href="./source/img/1689303067197_.jpg" x="0" y="-400" width="100%" height="200%" externalResourcesRequired="true" preserveAspectRatio="none" style="filter: ;display: none" externalresourcesrequired="true"></image>
              <image href="./source/img/1684069467445_.jpg" x="0" y="-400" width="100%" height="200%" externalResourcesRequired="true" preserveAspectRatio="none" style="filter: ;display: none" externalresourcesrequired="true"></image>
            </svg>
          </div>
        </div>
        <div class="download">
          <ul class="btns">
            <li><a href=""><i></i><span>下载PC版</span></a></li>
            <li class="split"></li>
            <li class="downloadAndroid"><a href="javascript:"><i></i><span>下载Android版</span></a></li>
            <li class="split"></li>
            <li class="downloadIphone"><a href="javascript:"><i></i><span>下载iphone版</span></a></li>
            <li class="split"></li>
            <li><a href="https://www.kuwo.cn/down"><i></i><span>下载其他版本</span></a></li>
          </ul>
        </div>
      </div>
      <div class="model" style="display: none">
        <div class="title">
          <span class="androidTitle" style>酷我音乐Android最新版</span>
          <span class="iphoneTitle" style="display: none">酷我音乐iphone最新版</span>
          <i class="close">x</i>
        </div>
        <div class="content">
          <div class="btns">
            <div class="button-container"><a href=""><i></i>下载安装包</a></div>
            <div class="split"></div>
            <div class="img-container">
              <img src="./source/img/Snipaste_2023-07-21_15-27-50.png" alt>
              <p class="tip">扫描二维码下载</p>
            </div>
          </div>
        </div>
      </div>
      <div class="song-list song-list-device">
        <div class="song-list-nav">
          <h3>推荐歌单</h3>
          <div class="sub-nav sub-nav-device">
            <a href="javascript:" list-type="0" class="current">每日推荐</a>
            <a href="javascript:" list-type="1">翻唱</a>
            <a href="javascript:" list-type="2">网络</a>
            <a href="javascript:" list-type="3">伤感</a>
            <a href="javascript:" list-type="4">欧美</a>
          </div>
          <a href="https://www.kuwo.cn/playlists" class="song-list-more">更多<i>></i></a>
        </div>
        <div class="song-list-content">
        </div>
      </div>
      <div class="song-list">
        <div class="song-list-nav">
          <h3>排行榜</h3>
          <a href="https://www.kuwo.cn/rankList" class="song-list-more">更多<i>></i></a>
        </div>
        <div class="rec-list">
          <div class="bang">
            <div class="bang-top">
              <div class="top-tip">
                <img src="./source/img/d8faf807ce667092ef29f8d62237bfbf3a1f127a6370664705722a67c8f9e23b.png" alt>
              </div>
              <img src="./source/img/3144135490.jpg" alt>
              <span class="play-icon">
              <i class="icon-front"></i>
            </span>
            </div>
            <ul class="bang-list">
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">罗刹海市</p>
                  <p class="artist">刀郎</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">向云端</p>
                  <p class="artist">小霞&海洋Bo</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">笼</p>
                  <p class="artist">张碧晨</p>
                </div>
              </li>
              <li>
                <div class="index">4</div>
                <div class="info">
                  <p class="song-name">听悲伤的情歌</p>
                  <p class="artist">苏星婕</p>
                </div>
              </li>
              <li>
                <div class="index">5</div>
                <div class="info">
                  <p class="song-name">开往早晨的午夜</p>
                  <p class="artist">张碧晨</p>
                </div>
              </li>
            </ul>
          </div>
          <div class="bang">
            <div class="bang-top">
              <div class="top-tip">
                <img src="./source/img/fb29b783091117318dbb5dac53f8a7deee25b34054f7d00fb91640f6106773c6.png" alt>
              </div>
              <img src="./source/img/3144135490.jpg" alt>
              <span class="play-icon">
              <i class="icon-front"></i>
            </span>
            </div>
            <ul class="bang-list">
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">罗刹海市</p>
                  <p class="artist">刀郎</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">一个人</p>
                  <p class="artist">伯远</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">躺着真舒服</p>
                  <p class="artist">时代少年团</p>
                </div>
              </li>
              <li>
                <div class="index">4</div>
                <div class="info">
                  <p class="song-name">用情（深情版）</p>
                  <p class="artist">en</p>
                </div>
              </li>
              <li>
                <div class="index">5</div>
                <div class="info">
                  <p class="song-name">万物不如你</p>
                  <p class="artist">张杰</p>
                </div>
              </li>
            </ul>
          </div>
          <div class="bang">
            <div class="bang-top">
              <div class="top-tip">
                <img src="./source/img/fcd292e95c97704678ae6a77191df0b915dd9b9657296ca20b9f19047f672055.png" alt>
              </div>
              <img src="./source/img/3144135490.jpg" alt>
              <span class="play-icon">
              <i class="icon-front"></i>
            </span>
            </div>
            <ul class="bang-list">
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">罗刹海市</p>
                  <p class="artist">刀郎</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">庄周一生梦一蝶</p>
                  <p class="artist">黄静美</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">命运的思量</p>
                  <p class="artist">GS大头</p>
                </div>
              </li>
              <li>
                <div class="index">4</div>
                <div class="info">
                  <p class="song-name">万物不如你</p>
                  <p class="artist">张杰</p>
                </div>
              </li>
              <li>
                <div class="index">5</div>
                <div class="info">
                  <p class="song-name">花妖</p>
                  <p class="artist">刀郎</p>
                </div>
              </li>
            </ul>
          </div>
          <div class="bang">
            <div class="bang-top">
              <div class="top-tip">
                <img src="./source/img/8eef6e95406eb46f8ed544384bb457e20c8d66a33c3077c586e58537b620ecf5.png" alt>
              </div>
              <img src="./source/img/533516405.jpg" alt>
              <span class="play-icon">
              <i class="icon-front"></i>
            </span>
            </div>
            <ul class="bang-list">
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">If We Ever Broke Up</p>
                  <p class="artist">Mae Stephens</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p title="I’ll Do It(Sped Up Version)" class="song-name">I’ll Do It(Sped Up Version)</p>
                  <p class="artist">Heidi Montag</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">golden hour</p>
                  <p class="artist">JVKE</p>
                </div>
              </li>
              <li>
                <div class="index">4</div>
                <div class="info">
                  <p title="My Stupid Heart(Kids Version)" class="song-name">My Stupid Heart(Kids Version)</p>
                  <p title="Walk Off the Earth&Luminati Suns" class="artist">Walk Off the Earth&Luminati Suns</p>
                </div>
              </li>
              <li>
                <div class="index">5</div>
                <div class="info">
                  <p title="Move Your Body(RAIZHELL Remix)" class="song-name">Move Your Body(RAIZHELL Remix)</p>
                  <p class="artist">Öwnboss&SEVEK</p>
                </div>
              </li>
            </ul>
          </div>
          <div class="bang">
            <div class="bang-top">
              <div class="top-tip">
                <img src="./source/img/838f7519b40479695a6f5a22923704600d2dfceb4e8d6ad0099b5a169ae0df03.png" alt>
              </div>
              <img src="./source/img/546622733.jpg" alt>
              <span class="play-icon">
              <i class="icon-front"></i>
            </span>
            </div>
            <ul class="bang-list">
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p title="如果你也想起我 (When The Wind Blows)" class="song-name">如果你也想起我 (When The Wind Blows)</p>
                  <p class="artist">允儿</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p title="NO ONE (Feat. B.I of iKON)" class="song-name">NO ONE (Feat. B.I of iKON)</p>
                  <p class="artist">李夏怡&B.I</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">Feedback</p>
                  <p class="artist">BoA&Nucksal (넉살)</p>
                </div>
              </li>
              <li>
                <div class="index">4</div>
                <div class="info">
                  <p title="너에게 못했던 내 마지막 말은" class="song-name">너에게 못했던 내 마지막 말은</p>
                  <p title="DAVICHI (다비치)" class="artist">DAVICHI (다비치)</p>
                </div>
              </li>
              <li>
                <div class="index">5</div>
                <div class="info">
                  <p class="song-name">고고베베</p>
                  <p class="artist">MAMAMOO</p>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="song-list song-list-artist">
        <div class="song-list-nav">
          <h3>歌手推荐</h3>
          <div class="sub-nav">
            <a href="javascript:" list-type="0" class="current">华语</a>
            <a href="javascript:" list-type="1">欧美</a>
            <a href="javascript:" list-type="2">日韩</a>
            <a href="javascript:" list-type="3">组合</a>
          </div>
          <a href="https://www.kuwo.cn/singers" class="song-list-more">更多<i>></i></a>
        </div>
        <div class="artist-list">
        </div>
      </div>
    </div>
    <div class="main-con1 main-container" style="display: none">
      <div class="con-l">
        <div class="con">
          <div class="sub-nav">
            <a href="javascript:" class="current">官方</a>
            <a href="javascript:">特色</a>
            <a href="javascript:">场景</a>
          </div>
          <ul class="con-list">
            <li class="active">
              <img src="./source/img/1690445603.png" alt>
              <div class="item-info">
                <p class="name">酷我飙升榜</p>
                <p class="time">今日更新</p>
              </div>
            </li>
            <li class="">
              <img src="./source/img/1690445586.png" alt>
              <div class="item-info">
                <p class="name">酷我新歌榜</p>
                <p class="time">今日更新</p>
              </div>
            </li>
            <li class="">
              <img src="./source/img/1690445597.png" alt>
              <div class="item-info">
                <p class="name">酷我热歌榜</p>
                <p class="time">今日更新</p>
              </div>
            </li>
            <li class="">
              <img src="./source/img/1690445606.png" alt>
              <div class="item-info">
                <p class="name">抖音歌曲榜</p>
                <p class="time">今日更新</p>
              </div>
            </li>
            <li class="">
              <img src="./source/img/1690445628.png" alt>
              <div class="item-info">
                <p class="name">万物DJ榜</p>
                <p class="time">今日更新</p>
              </div>
            </li>
            <li class="">
              <img src="./source/img/1690445615.png" alt>
              <div class="item-info">
                <p class="name">会员畅听榜</p>
                <p class="time">今日更新</p>
              </div>
            </li>
          </ul>
        </div>
      </div>
      <div class="con-r">
        <div class="content">
          <div class="content-title">
            <span class="title">酷我飙升榜</span>
            <span class="update-time">更新时间: </span>
          </div>
        </div>
        <div class="btns">
          <button class="play"><i></i>播放全部</button>
          <button><i></i>添加</button>
          <button><i></i>收藏</button>
          <a href="#comment"><i></i>评论</a>
        </div>
        <div class="list-out">
          <div class="list-in">
            <div class="list-head">
              <ul>
                <li class="head-num">序号</li>
                <li class="head-name">歌曲</li>
                <li class="head-artist">歌手</li>
                <li class="head-album">专辑</li>
                <li class="head-time">时长</li>
              </ul>
            </div>
            <ul class="rank-list">
            </ul>
          </div>
          <div class="loading-mask" style>
            <div class="loading-wrap">
              <div class="load">
                <span class="side1"></span>
                <span class="side2"></span>
                <span class="mid"></span>
                <span class="side2"></span>
                <span class="side1"></span>
              </div>
            </div>
          </div>
        </div>
        <div class="page-wrap">
          <!--<i><</i>
          <ul>
            <li><span>1</span></li>
            <li><span>2</span></li>
            <li><span>3</span></li>
            <li><span>···</span></li>
            <li><span>15</span></li>
          </ul>
          <i>></i>-->
        </div>
        <div class="comment" id="comment">
          <div class="all-comment">
            <div class="type">
              <span class="title">热门评论</span>
              <span class="num">82条</span>
            </div>
          </div>
          <div class="all-comment">
            <div class="type recent" id="commonCommit">
              <span class="title">最新评论</span>
              <span class="num">3234条</span>
            </div>
          </div>
        </div>
        <div class="page-wrap">
          <i class="commitBtnL"><</i>
          <ul>
            <li class="num current">1</li>
            <li class="num">2</li>
            <li class="num">3</li>
            <li class="num">4</li>
            <li class="num">5</li>
            <li class="num">6</li>
          </ul>
          <i class="commitBtnR">></i>
        </div>
      </div>
    </div>
    <div class="main-con2 main-container" style="display: none">
      <ul class="tag-en">
        <li class="current">热门</li>
        <li>A</li>
        <li>B</li>
        <li>C</li>
        <li>D</li>
        <li>E</li>
        <li>F</li>
        <li>G</li>
        <li>H</li>
        <li>I</li>
        <li>J</li>
        <li>K</li>
        <li>L</li>
        <li>M</li>
        <li>N</li>
        <li>O</li>
        <li>P</li>
        <li>Q</li>
        <li>R</li>
        <li>S</li>
        <li>T</li>
        <li>U</li>
        <li>V</li>
        <li>W</li>
        <li>X</li>
        <li>Y</li>
        <li>Z</li>
        <li>#</li>
      </ul>
      <ul class="tag-kind">
        <li class="current">全部</li>
        <li>华语男</li>
        <li>华语女</li>
        <li>华语组合</li>
        <li>日韩男</li>
        <li>日韩女</li>
        <li>日韩组合</li>
        <li>欧美男</li>
        <li>欧美女</li>
        <li>欧美组合</li>
        <li>其他</li>
      </ul>
      <div class="artist-container">
        <div class="artist-main"></div>
        <div class="artist-other"></div>
        <div class="page-wrap">
          <i class="artistBtnL"><</i>
          <ul></ul>
          <i class="artistBtnR">></i>
        </div>
      </div>
    </div>
    <div class="main-con3 main-container" style="display: none">
      <div class="song-list">
        <div class="song-list-nav">
          <h3>精选歌单<i>></i></h3>
          <div class="sub-nav">
            <a href="javascript:" class="current"><span>最新</span></a>
            <a href="javascript:"><span>最热</span></a>
          </div>
        </div>
        <div class="song-list-content">
        </div>
        <div class="page-wrap">
          <i class="BtnL"><</i>
          <ul>
          </ul>
          <i class="BtnR">></i>
        </div>
      </div>
    </div>
    <div class="main-con4 main-container" style="display: none">
      <ul class="tag-kind">
        <li class="current">首播</li>
        <li>华语</li>
        <li>日韩</li>
        <li>网络</li>
        <li>欧美</li>
        <li>现场</li>
        <li>热舞</li>
        <li>伤感</li>
        <li>剧情</li>
      </ul>
      <div class="list-out">
        <div class="album-item">
          <div class="cover-out">
            <div class="cover-play">
              <span class="play"><i></i></span>
            </div>
            <img src="./source/img/4093527818.jpg" alt>
            <p class="play-cut">
              <i></i>
              <span>2270</span>
              <span>04:07</span>
            </p>
            <div class="shadow"></div>
          </div>
          <p class="name"><span>The Lighthouse Keeper</span></p>
          <p class="time"><span>Sam Smith</span></p>
        </div>
        <div class="album-item">
          <div class="cover-out">
            <div class="cover-play">
              <span class="play"><i></i></span>
            </div>
            <img src="./source/img/1214239470.jpg" alt>
            <p class="play-cut">
              <i></i>
              <span>1.4万</span>
              <span>03:43</span>
            </p>
            <div class="shadow"></div>
          </div>
          <p class="name"><span>Better</span></p>
          <p class="time"><span>TWICE</span></p>
        </div>
        <div class="album-item">
          <div class="cover-out">
            <div class="cover-play">
              <span class="play"><i></i></span>
            </div>
            <img src="./source/img/588659300.jpg" alt>
            <p class="play-cut">
              <i></i>
              <span>7391</span>
              <span>03:44</span>
            </p>
            <div class="shadow"></div>
          </div>
          <p class="name"><span>狮子山下</span></p>
          <p class="time"><span>刘德华</span></p>
        </div>
        <div class="album-item">
          <div class="cover-out">
            <div class="cover-play">
              <span class="play"><i></i></span>
            </div>
            <img src="./source/img/1448749776.jpg" alt>
            <p class="play-cut">
              <i></i>
              <span>7.7万</span>
              <span>03:46</span>
            </p>
            <div class="shadow"></div>
          </div>
          <p class="name"><span>吞噬星空</span></p>
          <p class="time"><span>张杰</span></p>
        </div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/1644018429.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>7041</span>
							<span>03:00</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>以剑为期</span></p>
					<p class="time"><span>张碧晨</span></p>
				</div>
      </div>
      <div class="list-out">
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/2094038573.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>2.2万</span>
							<span>02:40</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>拉我</span></p>
					<p class="time"><span>赵粤&陈卓璇&Nene郑乃馨&刘些宁&希林娜依高</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/2974001597.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>7.5万</span>
							<span>04:38</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>给电影人的情书</span></p>
					<p class="time"><span>单依纯</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/878032042.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>1.2万</span>
							<span>03:19</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>如虎</span></p>
					<p class="time"><span>徐梦圆&双笙 (陈元汐)</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/1037643682.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>976</span>
							<span>04:30</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>宁静海</span></p>
					<p class="time"><span>吴青峰</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/613641438.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>2.0万</span>
							<span>03:36</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>谁能明白我</span></p>
					<p class="time"><span>刘德华</span></p>
				</div>
      </div>
			<div class="list-out">
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/666342548.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>1.0万</span>
							<span>04:54</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>若燕</span></p>
					<p class="time"><span>尚雯婕</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/2609659962.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>3966</span>
							<span>03:11</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>Radio</span></p>
					<p class="time"><span>HENRY刘宪华</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/2420959501.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>9755</span>
							<span>04:29</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>是但求其爱</span></p>
					<p class="time"><span>陈奕迅</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/2821963930.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>1.1万</span>
							<span>05:07</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>风平浪静</span></p>
					<p class="time"><span>伍佰</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/45930506.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>1.0万</span>
							<span>03:22</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>别</span></p>
					<p class="time"><span>周笔畅</span></p>
				</div>
			</div>
			<div class="list-out">
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/3340744897.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>4.4万</span>
							<span>03:08</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>Winner Winner（和平精英2020PEC年度盛典主题曲）</span></p>
					<p class="time"><span>Tizzy T&Jony J&和平精英</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/2241934977.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>2.1万</span>
							<span>03:08</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>繁星追梦（王者荣耀梦想主题曲）</span></p>
					<p class="time"><span>易烊千玺</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/2915905606.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>4.6万</span>
							<span>03:50</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>孤独</span></p>
					<p class="time"><span>G.E.M.邓紫棋</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/823274720.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>2438</span>
							<span>02:46</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>Somebody</span></p>
					<p class="time"><span>派伟俊</span></p>
				</div>
			</div>
      <div class="page-wrap">
        <i><</i>
        <ul>
          <li><span>1</span></li>
          <li><span>2</span></li>
          <li><span>3</span></li>
          <li><span>···</span></li>
          <li><span>28</span></li>
        </ul>
        <i>></i>
      </div>
    </div>
  </div>
</body>
<script>
  var currentPage = 0
  var currentListPage = 1
  var loadingMask = document.querySelector('.loading-mask')
  /* 添加数字过滤 */
  function filterNum(number, type) {
    var numberTxt = ''
    switch (type) {
      case 0:
        if (number > 9999) {
          numberTxt += (number/10000).toFixed(1) + '万'
          return numberTxt
        } else {
          return number
        }
      case 1:
        return number + '首歌曲'
      case 2:
        if (number/60 > 0 && number%60 !== 0) {
          return '0'+ (number/60).toFixed(0) + ':' + number%60
        } else if (number/60 > 0 && number%60 === 0) {
          return '0'+ (number/60).toFixed(0) + ':' + '00'
        }
        else {
          return '00' + ':' + number
        }
      case 3:
        var d1 = new Date(number)
        var now = new Date();
        if (Number(now - d1)/1000/60 < 60) {
          return (Number(now - d1)/1000/60).toFixed(0) + '分钟前'
        } else if (Number(now - d1)/1000/60 >= 60 && Number(now - d1)/1000/60/60 < 24) {
          return (Number(now - d1)/1000/60/60).toFixed(0) + '小时前'
        } else {
          return number
        }
    }
  }
  /* 更改元素类 */
  function hasClass(ele, cls) {
    return ele.className.match(new RegExp('(\\s|^)' + cls + '(\\s|$)', 'ig'))
  }
  function addClass(ele, cls) {
    if (!this.hasClass(ele, cls)) ele.className += ' ' + cls
  }
  function removeClass(ele, cls) {
    if (hasClass(ele, cls)) {
      var reg = new RegExp('(\\s|^)' + cls + '(\\s|$)', 'ig')
      ele.className = ele.className.replace(reg, '')
    }
  }
  function replaceClass(ele, oldClass, newClass) {
    if (hasClass(ele, oldClass)) {
      removeClass(ele, oldClass)
      addClass(ele, newClass)
    }
  }
  function toggleClass(ele, cls1, cls2) {
    if (hasClass(ele, cls1)) {
      replaceClass(ele, cls1, cls2)
    } else if (hasClass(ele, cls2)) {
      replaceClass(ele, cls1, cls2)
    } else {
      addClass(ele, cls1)
    }
  }

  /* 检测图片位置, 用于懒加载图片 */
  function isVisible(img) {
    var imgRect = img.getBoundingClientRect()
    return imgRect.bottom > 0 && imgRect.top < window.innerHeight && imgRect.right > 0 && imgRect.left < window.innerWidth
  }
  
  /* 顶部标签动态选中样式 */
  /* 此处闭包导致所有情况下均将current赋值在 subNavTitle[subNavTitle.length]上, 使用立即执行函数, 见test下的for循环中的闭包问题及解决方案*/
  var subNavTitle = document.querySelector('.sub-nav')
  var mainContainer = document.querySelectorAll('.main-container')
  var firstAccess = [0, 0, 0, 0, 0]
  /* 最上级标签点击效果  通过事件委托绑定点击事件到父级元素上 */
  subNavTitle.addEventListener('click', function (e) {
    if (e.target.tagName === 'A') {
      for (var i = 0; i < subNavTitle.children.length; i++) {
        removeClass(subNavTitle.children[i], 'current')
      }
      addClass(e.target, 'current')
      var n = e.target.getAttribute('page-n')
      if (currentPage !== Number(n) && n) {
        currentPage = Number(n)
        gainListHandler(currentPage)
      }
    }
  })

  /* 获取飙升榜歌曲列表 */
  async function gainRankList(page) {
    var judge = false
    var rankList = document.querySelector('.rank-list')
    rankList.innerHTML = ''
    await axios.request({
      url: 'http://localhost:3000/musicList',
      method: 'get',
      params: {
        _page: page,
        _limit: 20
      }
    }).then(function(r) {
      if (r.status === 200) {
        for (var i = 0; i < r.data.length; i++) {
          if (i % 2 !== 0) {
            var str = '<li class="song-item dark">'
          } else {
            str = '<li class="song-item">'
          }
          str += '<div class="song-rank">'
          switch ((currentListPage - 1) * 20 + i + 1) {
            case 1: {
              str +=
                '<div class="rank-num" style="background: url(./source/img/icon_first.df06fb1.png) center 4px no-repeat; background-size: 168%;"></div>' +
                '<img data-src="' + r.data[i].pic + '" src="./source/img/4f768883f75b17a426c95b93692d98bec7d3ee9240f77f5ea68fc63870fdb050.png" alt>'
              break
            }
            case 2: {
              str +=
                '<div class="rank-num" style="background: url(./source/img/icon_secondary.d99e73e.png) center 4px no-repeat; background-size: 168%;"></div>' +
                '<img data-src="' + r.data[i].pic + '" src="./source/img/4f768883f75b17a426c95b93692d98bec7d3ee9240f77f5ea68fc63870fdb050.png" alt>'
              break
            }
            case 3: {
              str +=
                '<div class="rank-num" style="background: url(./source/img/icon_third.8abbb65.png) center 4px no-repeat; background-size: 168%;"></div>' +
                '<img data-src="' + r.data[i].pic + '" src="./source/img/4f768883f75b17a426c95b93692d98bec7d3ee9240f77f5ea68fc63870fdb050.png" alt>'
              break
            }
            default: {
              str +=
                '<div class="rank-num">' + ((currentListPage - 1) * 20 + i + 1) + '</div>' +
                '<img data-src="' + r.data[i].pic + '" src="./source/img/4f768883f75b17a426c95b93692d98bec7d3ee9240f77f5ea68fc63870fdb050.png" alt>'
            }
          }
          str +=
            '</div>' +
            '<div class="song-name" title="' + r.data[i].name + '">' +
            '<a href="">' + r.data[i].name + '</a>'
          if (r.data[i].hasLossless) {
            str += '<i class="wusun"></i>'
          }
          if (r.data[i].hasmv) {
            str += '<i class="mv"></i>'
          }
          str +=
            '</div>' +
            '<div class="song-artist" title="' + r.data[i].artist + '">' +
            '<span>' + r.data[i].artist + '</span>' +
            '</div>' +
            '<div class="song-album" title="' + r.data[i].album + '">' +
            '<span>' + r.data[i].album + '</span>' +
            '</div>' +
            '<div class="song-time">' +
            '<span>' + filterNum(r.data[i].duration, 2) + '</span>' +
            '</div>' +
            '<div class="btns">' +
            '<i></i>' +
            '<i></i>' +
            '<i></i>' +
            '<i></i>' +
            '</div>'
          rankList.innerHTML += str
        }
        // 动态加载
        var img = []
        var imgs = document.querySelectorAll('.rank-list .song-rank img')
        for (i = 0; i < imgs.length; i++) {
          img.push(imgs[i])
        }
        for (i = 0; i < img.length; i++) {
          if (isVisible(img[i])) {
            img[i].src = img[i].dataset.src
            img.splice(i, 1)
            i--
          }
        }
        judge =  true
      } else judge = false
    })
    return judge
  }
  /* 获取飙升榜歌曲分页按钮 */
  function gainRankListPage(pageWrap, rPage) {
    var ul = pageWrap.querySelector('ul')
    var BtnL = pageWrap.querySelector('.BtnL')
    var BtnR = pageWrap.querySelector('.BtnR')
    var str
    /* 当前页小于等于2时 */
    if (currentListPage <= 2 && rPage >= 5) {
      console.log(1)
      str = ''
      for (var i = 1; i <= 3; i++) {
        if (i === currentListPage) {
          str += '<li class="num current">' + i + '</li>'
        } else {
          str += '<li class="num">' + i + '</li>'
        }
      }
      str +=
        '<li class="notCursor">···</li>' +
        '<li class="num">' + rPage + '</li>'
      ul.innerHTML = str
    } else if (currentListPage <= 2 && rPage < 5) {
      console.log(2)
      str = ''
      for (i = 1; i <= rPage; i++) {
        if (i === currentListPage) {
          str += '<li class="num current">' + i + '</li>'
        } else {
          str += '<li class="num">' + i + '</li>'
        }
        ul.innerHTML = str
      }
    }
    /* 当前页等于3时 */
    if (currentListPage === 3 && rPage >= 6) {
      console.log(3)
      str = ''
      for (i = 1; i <= 4; i++) {
        if (i === 3) {
          str += '<li class="num current">' + i + '</li>'
        } else {
          str += '<li class="num">' + i + '</li>'
        }
      }
      str +=
        '<li class="notCursor">···</li>' +
        '<li class="num">' + rPage + '</li>'
      ul.innerHTML = str
    } else if (currentListPage === 3 && rPage <= 5) {
      console.log(4)
      for (i = 1; i <= rPage; i++) {
        if (i === currentListPage) {
          str += '<li class="num current">' + i + '</li>'
        } else {
          str += '<li class="num">' + i + '</li>'
        }
        ul.innerHTML = str
      }
    }
    /* 当前页大于3 且小于rPage-2时 */
    if (currentListPage > 3 && currentListPage < rPage - 2 && currentListPage + 2 < rPage) {
      console.log(5)
      str =
        '<li class="num">1</li>' +
        '<li class="notCursor">···</li>' +
        '<li class="num">' + (currentListPage - 1) + '</li>' +
        '<li class="num current">' + currentListPage + '</li>' +
        '<li class="num">' + (currentListPage + 1) + '</li>' +
        '<li class="notCursor">···</li>' +
        '<li class="num">' + rPage + '</li>'
      ul.innerHTML = str
    } else if (currentListPage > 3 && currentListPage <  currentListPage + 2 >= rPage) {
      console.log(6)
      str =
        '<li class="num">1</li>' +
        '<li class="notCursor">···</li>' +
        '<li class="num">' + (currentListPage - 1) + '</li>' +
        '<li class="num current">' + currentListPage + '</li>' +
        '<li class="num">' + (currentListPage + 1) + '</li>' +
        '<li class="num">' + rPage + '</li>'
      ul.innerHTML = str
    }
    /* 当前页等于rPage-2时 */
    if (currentListPage === rPage - 2  && rPage > 5) {
      console.log(7)
      str =
        '<li class="num">1</li>' +
        '<li class="notCursor">···</li>'
      for (i = currentListPage - 1; i <= rPage; i++) {
        if (i === currentListPage) {
          str += '<li class="num current">' + i + '</li>'
        } else {
          str += '<li class="num">' + i + '</li>'
        }
      }
      ul.innerHTML = str
    } else if (currentListPage === rPage-2 && rPage <= 5) {
      console.log(8)
      str = ''
      for (i = 1; i <= rPage; i++) {
        if (currentListPage === i) {
          str += '<li class="num current">' + i + '</li>'
        } else {
          str += '<li class="num">' + i + '</li>'
        }
      }
      ul.innerHTML = str
    }
    /* 当前页面大于rPage-2时 */
    if (currentListPage > rPage - 2 && currentListPage >= 4) {
      console.log(9)
      str =
        '<li class="num">1</li>' +
        '<li class="notCursor">···</li>'
      for (i = rPage - 2; i <= rPage; i++) {
        if (currentListPage === i) {
          str += '<li class="num current">' + i + '</li>'
        } else {
          str += '<li class="num">' + i + '</li>'
        }
      }
      ul.innerHTML = str
    } else if (currentListPage > rPage-2 && currentListPage < 4) {
      console.log(10)
      str = ''
      for (i = 1; i <= rPage; i++) {
        if (currentListPage === i) {
          str += '<li class="num current">' + i + '</li>'
        } else {
          str += '<li class="num">' + i + '</li>'
        }
      }
      ul.innerHTML = str
    }
    if (currentListPage !== 1) { removeClass(BtnL, 'forbidden') }
    if (currentListPage === 1) { addClass(BtnL, 'forbidden') }
    if (currentListPage !== rPage) { removeClass(BtnR, 'forbidden') }
    if (currentListPage === rPage) { addClass(BtnR, 'forbidden') }
  }
  
  /* 获取当前页面 */
  function gainListHandler(currentPage) {
    for (var i = 0; i < mainContainer.length; i++) {
      mainContainer[i].style.display = 'none'
    }
    mainContainer[currentPage].style.display = 'block'
    switch (currentPage) {
      case 0: {
        if (firstAccess[currentPage] === 0) {
          var subNavDevice = document.querySelector('.sub-nav-device')
          var songListDevice = document.querySelector('.song-list-device .song-list-content')
          var artistDevice = document.querySelector('.song-list-artist .sub-nav')
          var itemsArtist = document.querySelector('.song-list-artist .artist-list')
          var currentListType = 0
          var currentArtistType = 0
          axios.request({
            url: 'http://localhost:3000/playList',
            method: 'get',
          }).then(function (r) {
            if (r.status === 200) {
              for (i = 0; i < r.data.length && i < 5; i++) {
                str =
                  '<div class="item">' +
                  '<div class="pic-out">' +
                  '<div class="cover">' +
                  '<span class="play-icon">' +
                  '<i class="icon-front"></i>' +
                  '</span>' +
                  '</div>' +
                  '<img data-src="' + r.data[i].img + '" src="./source/img/4f768883f75b17a426c95b93692d98bec7d3ee9240f77f5ea68fc63870fdb050.png" alt>' +
                  '</div>' +
                  '<p class="name">' + r.data[i].name + '</p>' +
                  '<p class="count"><i></i>' + r.data[i].listencnt + '</p>' +
                  '</div>'
                songListDevice.innerHTML += str
              }
              // 动态加载
              var img = []
              var imgs = document.querySelectorAll('.song-list-device .song-list-content img')
              for (i = 0; i < imgs.length; i++) {
                img.push(imgs[i])
              }
              for (i = 0; i < img.length; i++) {
                if (isVisible(img[i])) {
                  img[i].src = img[i].dataset.src
                  img.splice(i, 1)
                  i--
                }
              }
            } else {
              alert(r.statusText)
            }
          })
          axios.request({
            url: 'http://localhost:3000/artistList',
            method: 'get'
          }).then(function (r) {
            if (r.status === 200) {
              for (var i = 0; i < r.data.length && i < 6; i++) {
                var str =
                  '<div class="artist-item">' +
                  '<div class="artist">' +
                  '<div class="pic-out">' +
                  '<img data-src="' + r.data[i].pic + '" src="./source/img/4f768883f75b17a426c95b93692d98bec7d3ee9240f77f5ea68fc63870fdb050.png" alt>' +
                  '</div>' +
                  '<p class="name">' +
                  '<span class="text">' + r.data[i].name + '</span>' +
                  '</p>' +
                  '<p class="num">' + filterNum(r.data[i].musicNum, 1) + '</p>' +
                  '</div>' +
                  '</div>'
                itemsArtist.innerHTML += str
              }
              // 动态加载
              var img = []
              var imgs = document.querySelectorAll('.song-list-artist .artist-list img')
              for (i = 0; i < imgs.length; i++) {
                img.push(imgs[i])
              }
              for (i = 0; i < img.length; i++) {
                if (isVisible(img[i])) {
                  img[i].src = img[i].dataset.src
                  img.splice(i, 1)
                  i--
                }
              }
            } else {
              alert(r.statusText)
            }
          })
          subNavDevice.addEventListener('click', function (e) {
            if (e.target.tagName === 'A') {
              songListDevice.innerHTML = ''
              for (var i = 0; i < subNavDevice.children.length; i++) {
                removeClass(subNavDevice.children[i], 'current')
              }
              addClass(e.target, 'current')
              var n = e.target.getAttribute('list-type')
              if (Number(n) !== currentListType) {
                currentListType = Number(n)
                var requestAPI = currentListType === 0 ? 'http://localhost:3000/playList' : 'http://localhost:3000/playList' + currentListType
                axios.request({
                  url: requestAPI,
                  method: 'get'
                }).then(function (r) {
                  if (r.status === 200) {
                    for (i = 0; i < r.data.length && i < 5; i++) {
                      str =
                        '<div class="item">' +
                        '<div class="pic-out">' +
                        '<div class="cover">' +
                        '<span class="play-icon">' +
                        '<i class="icon-front"></i>' +
                        '</span>' +
                        '</div>' +
                        '<img data-src="' + r.data[i].img + '" src="./source/img/4f768883f75b17a426c95b93692d98bec7d3ee9240f77f5ea68fc63870fdb050.png" alt>' +
                        '</div>' +
                        '<p class="name">' + r.data[i].name + '</p>' +
                        '<p class="count"><i></i>' + r.data[i].listencnt + '</p>' +
                        '</div>'
                      songListDevice.innerHTML += str
                    }
                    // 动态加载
                    var img = []
                    var imgs = document.querySelectorAll('.song-list-device .song-list-content img')
                    for (i = 0; i < imgs.length; i++) {
                      img.push(imgs[i])
                    }
                    for (i = 0; i < img.length; i++) {
                      if (isVisible(img[i])) {
                        img[i].src = img[i].dataset.src
                        img.splice(i, 1)
                        i--
                      }
                    }
                  }
                })
              }
            }
          })
          artistDevice.addEventListener('click', function (e) {
            if (e.target.tagName === 'A') {
              itemsArtist.innerHTML = ''
              for (var i = 0; i < artistDevice.children.length; i++) {
                removeClass(artistDevice.children[i], 'current')
              }
              addClass(e.target, 'current')
              var n = e.target.getAttribute('list-type')
              if (Number(n) !== currentArtistType) {
                currentArtistType = Number(n)
                var requestAPI = currentArtistType === 0 ? 'http://localhost:3000/artistList' : 'http://localhost:3000/artistList' + currentArtistType
                axios.request({
                  url: requestAPI,
                  method: 'get'
                }).then(function (r) {
                  if (r.status === 200) {
                    for (i = 0; i < r.data.length && i < 6; i++) {
                      str =
                        '<div class="artist-item">' +
                        '<div class="artist">' +
                        '<div class="pic-out">' +
                        '<img data-src="' + r.data[i].pic + '" src="./source/img/4f768883f75b17a426c95b93692d98bec7d3ee9240f77f5ea68fc63870fdb050.png" alt>' +
                        '</div>' +
                        '<p class="name">' +
                        '<span class="text">' + r.data[i].name + '</span>' +
                        '</p>' +
                        '<p class="num">' + filterNum(r.data[i].musicNum, 1) + '</p>' +
                        '</div>' +
                        '</div>'
                      itemsArtist.innerHTML += str
                    }
                    // 动态加载
                    var img = []
                    var imgs = document.querySelectorAll('.song-list-artist .artist-list img')
                    for (i = 0; i < imgs.length; i++) {
                      img.push(imgs[i])
                    }
                    for (i = 0; i < img.length; i++) {
                      console.log(isVisible(img[i]))
                      if (isVisible(img[i])) {
                        img[i].src = img[i].dataset.src
                        img.splice(i, 1)
                        i--
                      }
                    }
                  }
                })
              }
            }
          })
        }
        firstAccess[currentPage] = 1
        break;
      }
      case 1: {
        if (firstAccess[currentPage] === 0) {
          var rankListNav = document.querySelector('.main-con1 .sub-nav')
          var loadingMask = document.querySelector('.loading-mask')
          var updateTime = document.querySelector('.update-time')
          var pageWrap = document.querySelectorAll('.con-r .page-wrap')[0]
          rankListNav.addEventListener('click', function (e) {
            if (e.target.tagName === 'A') {
              for (var i = 0; i < rankListNav.children.length; i++) {
                removeClass(rankListNav.children[i], 'current')
              }
              addClass(e.target, 'current')
            }
          })
          var time = new Date()
          var date
          if (time.getMonth() < 10) {
            date = time.getFullYear() + '-0' + (time.getMonth() + 1) + '-' + time.getDate()
          } else {
            date = time.getFullYear() + '-' + (time.getMonth() + 1) + '-' + time.getDate()
          }
          updateTime.innerHTML += date
          var promise = new Promise(function (resolve, reject) {
            gainRankList(currentListPage).then(function (res) {
              if (res) {
                resolve()
              } else {
                reject()
              }
            })
          })
          promise.then(function () {
            loadingMask.style.display = 'none'
            axios.request({
              url: 'http://localhost:3000/musicList',
              method: 'get'
            }).then(function(r) {
              pageWrap.innerHTML =
                '<i class="BtnL forbidden"><</i>' +
                '<ul>' +
                '</ul>' +
                '<i class="BtnR">></i>'
              var btnL = pageWrap.querySelector('.BtnL')
              var btnR = pageWrap.querySelector('.BtnR')
              var ul = pageWrap.querySelector('ul')
              for (var i = 1; i< r.data.length/20; i++) {
                if (i <= 3) {
                  if (i === 1) {
                    ul.innerHTML += '<li class="num current">' + i + '</li>'
                  } else {
                    ul.innerHTML += '<li class="num">' + i + '</li>'
                  }
                }
              }
              ul.innerHTML +=
                '<li class="notCursor">···</li>' +
                '<li class="num">'+ Number((r.data.length/20).toFixed(0)) +'</li>'
              pageWrap.addEventListener('click', function(e) {
                if (e.target.tagName === 'LI' && hasClass(e.target, 'num')) {
                  for (var i = 0; i < pageWrap.children; i++) {
                    removeClass(pageWrap.children[i], 'current')
                  }
                  addClass(e.target, 'current')
                  currentListPage = Number(e.target.innerHTML)
                  gainRankList(Number(e.target.innerHTML))
                  gainRankListPage(pageWrap, Number((r.data.length/20).toFixed(0)))
                }
                if (hasClass(e.target, 'BtnL') && currentListPage !== 1) {
                  gainRankList(--currentListPage)
                  gainRankListPage(pageWrap, Number((r.data.length/20).toFixed(0)))
                }
                if (hasClass(e.target, 'BtnR') && currentListPage !== Number((r.data.length/20).toFixed(0))) {
                  gainRankList(++currentListPage)
                  gainRankListPage(pageWrap, Number((r.data.length/20).toFixed(0)))
                }
              })
            })
            firstAccess[currentPage] = 1
          }, function() {alert('Something wrong! Check your network!')})
        }
        break
      }
    }
  }

  /* 首次打开加载首页内容 */
  gainListHandler(0)
  
  /* 图片懒加载 */
  window.addEventListener('scroll', function() {
    var img = []
    var imgs
    switch (currentPage) {
      case 0: {
        imgs = document.querySelectorAll('.song-list-device .song-list-content img')
        for (i = 0; i < imgs.length; i++) {
          img.push(imgs[i])
        }
        for (i = 0; i < img.length; i++) {
          if (isVisible(img[i])) {
            img[i].src = img[i].dataset.src
            img.splice(i, 1)
            i--
          }
        }
        img = []
        imgs = document.querySelectorAll('.song-list-artist .artist-list img')
        for (i = 0; i < imgs.length; i++) {
          img.push(imgs[i])
        }
        for (i = 0; i < img.length; i++) {
          if (isVisible(img[i])) {
            img[i].src = img[i].dataset.src
            img.splice(i, 1)
            i--
          }
        }
        break
      }
      case 1: {
        // 动态加载
        imgs = document.querySelectorAll('.rank-list .song-rank img')
        for (i = 0; i < imgs.length; i++) {
          img.push(imgs[i])
        }
        for (i = 0; i < img.length; i++) {
          if (isVisible(img[i])) {
            img[i].src = img[i].dataset.src
            img.splice(i, 1)
            i--
          }
        }
        break
      }
    }
  })
</script>
</html>
