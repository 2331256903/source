<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="./css/reset.css">
  <link rel="stylesheet" href="./css/styles.css">
  <script src="../../../node_modules/axios/dist/axios.min.js"></script>
  <title>酷我音乐-无损音质正版在线试听网站</title>
</head>
<body>
  <div class="container">
    <div class="sub-nav">
      <a href="javascript:" page-n="0" class="current">推荐</a>
      <a href="javascript:" page-n="1">排行榜</a>
      <a href="javascript:" page-n="2">歌手</a>
      <a href="javascript:" page-n="3">歌单</a>
      <a href="javascript:" page-n="4">MV</a>
    </div>
    <div class="main main-container" style>
      <div class="banner-out">
        <div class="swiper-out">
          <div class="swiper-inn">
            <div class="swiper-container">
              <!-- ondragstart="return false" 禁止鼠标选中后拖动有半透明图片跟随 -->
              <div class="swiper-wrapper" style="left: -1400px" ondragstart="return false">
                <div class="swiper-slide">
                  <a href="https://www.kuwo.cn/playlist_detail/3460417394"><img src="./source/img/1684069467445_.jpg" alt></a>
                </div>
                <div class="swiper-slide">
                  <a href=""><img src="./source/img/1677749209264_.png" alt></a>
                </div>
                <div class="swiper-slide">
                  <a href="https://www.kuwo.cn/playlist_detail/3480039720"><img src="./source/img/1689402762005_.jpg" alt></a>
                </div>
                <div class="swiper-slide">
                  <a href="https://www.kuwo.cn/playlist_detail/3468351866"><img src="./source/img/1689402854175_.jpg" alt></a>
                </div>
                <div class="swiper-slide">
                  <a href="https://www.kuwo.cn/playlist_detail/3464313714"><img src="./source/img/1689330791866_.jpg" alt></a>
                </div>
                <div class="swiper-slide">
                  <a href="https://www.kuwo.cn/playlist_detail/3467025335"><img src="./source/img/1689303067197_.jpg" alt></a>
                </div>
                <div class="swiper-slide">
                  <a href="https://www.kuwo.cn/playlist_detail/3460417394"><img src="./source/img/1684069467445_.jpg" alt></a>
                </div>
                <div class="swiper-slide">
                  <a href=""><img src="./source/img/1677749209264_.png" alt></a>
                </div>
              </div>
              <div class="swiper-pagination">
                <ul class="swiper-bullets"></ul>
              </div>
              <div class="BtnL"><i><</i></div>
              <div class="BtnR"><i>></i></div>
            </div>
          </div>
          <div class="blur">
            <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="200%" viewBox="0 0 1680 480" preserveAspectRatio="none">
              <defs>
                <filter id="blur">
                  <feGaussianBlur in="SourceGraph" stdDeviation="30"></feGaussianBlur>
                </filter>
              </defs>
              <image href="./source/img/1677749209264_.png" x="0" y="-400" width="100%" height="200%" externalResourcesRequired="true" preserveAspectRatio="none" style="filter: ;display: none" externalresourcesrequired="true"></image>
              <image href="./source/img/1689402762005_.jpg" x="0" y="-400" width="100%" height="200%" externalResourcesRequired="true" preserveAspectRatio="none" style="filter: ;display: none" externalresourcesrequired="true"></image>
              <image href="./source/img/1689402854175_.jpg" x="0" y="-400" width="100%" height="200%" externalResourcesRequired="true" preserveAspectRatio="none" style="filter: ;display: none" externalresourcesrequired="true"></image>
              <image href="./source/img/1689330791866_.jpg" x="0" y="-400" width="100%" height="200%" externalResourcesRequired="true" preserveAspectRatio="none" style="filter: ;display: none" externalresourcesrequired="true"></image>
              <image href="./source/img/1689303067197_.jpg" x="0" y="-400" width="100%" height="200%" externalResourcesRequired="true" preserveAspectRatio="none" style="filter: ;display: none" externalresourcesrequired="true"></image>
              <image href="./source/img/1684069467445_.jpg" x="0" y="-400" width="100%" height="200%" externalResourcesRequired="true" preserveAspectRatio="none" style="filter: ;display: none" externalresourcesrequired="true"></image>
            </svg>
          </div>
        </div>
        <div class="download">
          <ul class="btns">
            <li><a href=""><i></i><span>下载PC版</span></a></li>
            <li class="split"></li>
            <li class="downloadAndroid"><a href="javascript:"><i></i><span>下载Android版</span></a></li>
            <li class="split"></li>
            <li class="downloadIphone"><a href="javascript:"><i></i><span>下载iphone版</span></a></li>
            <li class="split"></li>
            <li><a href="https://www.kuwo.cn/down"><i></i><span>下载其他版本</span></a></li>
          </ul>
        </div>
      </div>
      <div class="model" style="display: none">
        <div class="title">
          <span class="androidTitle" style>酷我音乐Android最新版</span>
          <span class="iphoneTitle" style="display: none">酷我音乐iphone最新版</span>
          <i class="close">x</i>
        </div>
        <div class="content">
          <div class="btns">
            <div class="button-container"><a href=""><i></i>下载安装包</a></div>
            <div class="split"></div>
            <div class="img-container">
              <img src="./source/img/Snipaste_2023-07-21_15-27-50.png" alt>
              <p class="tip">扫描二维码下载</p>
            </div>
          </div>
        </div>
      </div>
      <div class="song-list song-list-device">
        <div class="song-list-nav">
          <h3>推荐歌单</h3>
          <div class="sub-nav sub-nav-device">
            <a href="javascript:" list-type="rcm" class="current">每日推荐</a>
            <a href="javascript:" list-type="1848">翻唱</a>
            <a href="javascript:" list-type="621">网络</a>
            <a href="javascript:" list-type="146">伤感</a>
            <a href="javascript:" list-type="35">欧美</a>
          </div>
          <a href="https://www.kuwo.cn/playlists" class="song-list-more">更多<i>></i></a>
        </div>
        <div class="song-list-content">
          <div class="item">
            <div class="pic-out">
              <div class="cover">
                <span class="play-icon">
                  <i class="icon-front"></i>
                </span>
              </div>
              <img src="http://192.168.1.148:3000/placeholder.png" alt>
            </div>
            <p class="name"></p>
            <p class="count"></p>
          </div>
          <div class="item">
            <div class="pic-out">
              <div class="cover">
                <span class="play-icon">
                  <i class="icon-front"></i>
                </span>
              </div>
              <img src="http://192.168.1.148:3000/placeholder.png" alt>
            </div>
            <p class="name"></p>
            <p class="count"></p>
          </div>
          <div class="item">
            <div class="pic-out">
              <div class="cover">
                <span class="play-icon">
                  <i class="icon-front"></i>
                </span>
              </div>
              <img src="http://192.168.1.148:3000/placeholder.png" alt>
            </div>
            <p class="name"></p>
            <p class="count"></p>
          </div>
          <div class="item">
            <div class="pic-out">
              <div class="cover">
                <span class="play-icon">
                  <i class="icon-front"></i>
                </span>
              </div>
              <img src="http://192.168.1.148:3000/placeholder.png" alt>
            </div>
            <p class="name"></p>
            <p class="count"></p>
          </div>
          <div class="item">
            <div class="pic-out">
              <div class="cover">
                <span class="play-icon">
                  <i class="icon-front"></i>
                </span>
              </div>
              <img src="http://192.168.1.148:3000/placeholder.png" alt>
            </div>
            <p class="name"></p>
            <p class="count"></p>
          </div>
        </div>
      </div>
      <div class="song-list">
        <div class="song-list-nav">
          <h3>排行榜</h3>
          <a href="https://www.kuwo.cn/rankList" class="song-list-more">更多<i>></i></a>
        </div>
        <div class="rec-list">
          <div class="bang">
            <div class="bang-top">
              <div class="top-tip">
                <img src="./source/img/d8faf807ce667092ef29f8d62237bfbf3a1f127a6370664705722a67c8f9e23b.png" alt>
              </div>
              <img src="./source/img/3144135490.jpg" alt>
              <span class="play-icon">
              <i class="icon-front"></i>
            </span>
            </div>
            <ul class="bang-list">
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">罗刹海市</p>
                  <p class="artist">刀郎</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">向云端</p>
                  <p class="artist">小霞&海洋Bo</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">笼</p>
                  <p class="artist">张碧晨</p>
                </div>
              </li>
              <li>
                <div class="index">4</div>
                <div class="info">
                  <p class="song-name">听悲伤的情歌</p>
                  <p class="artist">苏星婕</p>
                </div>
              </li>
              <li>
                <div class="index">5</div>
                <div class="info">
                  <p class="song-name">开往早晨的午夜</p>
                  <p class="artist">张碧晨</p>
                </div>
              </li>
            </ul>
          </div>
          <div class="bang">
            <div class="bang-top">
              <div class="top-tip">
                <img src="./source/img/fb29b783091117318dbb5dac53f8a7deee25b34054f7d00fb91640f6106773c6.png" alt>
              </div>
              <img src="./source/img/3144135490.jpg" alt>
              <span class="play-icon">
              <i class="icon-front"></i>
            </span>
            </div>
            <ul class="bang-list">
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">罗刹海市</p>
                  <p class="artist">刀郎</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">一个人</p>
                  <p class="artist">伯远</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">躺着真舒服</p>
                  <p class="artist">时代少年团</p>
                </div>
              </li>
              <li>
                <div class="index">4</div>
                <div class="info">
                  <p class="song-name">用情（深情版）</p>
                  <p class="artist">en</p>
                </div>
              </li>
              <li>
                <div class="index">5</div>
                <div class="info">
                  <p class="song-name">万物不如你</p>
                  <p class="artist">张杰</p>
                </div>
              </li>
            </ul>
          </div>
          <div class="bang">
            <div class="bang-top">
              <div class="top-tip">
                <img src="./source/img/fcd292e95c97704678ae6a77191df0b915dd9b9657296ca20b9f19047f672055.png" alt>
              </div>
              <img src="./source/img/3144135490.jpg" alt>
              <span class="play-icon">
              <i class="icon-front"></i>
            </span>
            </div>
            <ul class="bang-list">
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">罗刹海市</p>
                  <p class="artist">刀郎</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">庄周一生梦一蝶</p>
                  <p class="artist">黄静美</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">命运的思量</p>
                  <p class="artist">GS大头</p>
                </div>
              </li>
              <li>
                <div class="index">4</div>
                <div class="info">
                  <p class="song-name">万物不如你</p>
                  <p class="artist">张杰</p>
                </div>
              </li>
              <li>
                <div class="index">5</div>
                <div class="info">
                  <p class="song-name">花妖</p>
                  <p class="artist">刀郎</p>
                </div>
              </li>
            </ul>
          </div>
          <div class="bang">
            <div class="bang-top">
              <div class="top-tip">
                <img src="./source/img/8eef6e95406eb46f8ed544384bb457e20c8d66a33c3077c586e58537b620ecf5.png" alt>
              </div>
              <img src="./source/img/533516405.jpg" alt>
              <span class="play-icon">
              <i class="icon-front"></i>
            </span>
            </div>
            <ul class="bang-list">
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">If We Ever Broke Up</p>
                  <p class="artist">Mae Stephens</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p title="I’ll Do It(Sped Up Version)" class="song-name">I’ll Do It(Sped Up Version)</p>
                  <p class="artist">Heidi Montag</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">golden hour</p>
                  <p class="artist">JVKE</p>
                </div>
              </li>
              <li>
                <div class="index">4</div>
                <div class="info">
                  <p title="My Stupid Heart(Kids Version)" class="song-name">My Stupid Heart(Kids Version)</p>
                  <p title="Walk Off the Earth&Luminati Suns" class="artist">Walk Off the Earth&Luminati Suns</p>
                </div>
              </li>
              <li>
                <div class="index">5</div>
                <div class="info">
                  <p title="Move Your Body(RAIZHELL Remix)" class="song-name">Move Your Body(RAIZHELL Remix)</p>
                  <p class="artist">Öwnboss&SEVEK</p>
                </div>
              </li>
            </ul>
          </div>
          <div class="bang">
            <div class="bang-top">
              <div class="top-tip">
                <img src="./source/img/838f7519b40479695a6f5a22923704600d2dfceb4e8d6ad0099b5a169ae0df03.png" alt>
              </div>
              <img src="./source/img/546622733.jpg" alt>
              <span class="play-icon">
              <i class="icon-front"></i>
            </span>
            </div>
            <ul class="bang-list">
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p title="如果你也想起我 (When The Wind Blows)" class="song-name">如果你也想起我 (When The Wind Blows)</p>
                  <p class="artist">允儿</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p title="NO ONE (Feat. B.I of iKON)" class="song-name">NO ONE (Feat. B.I of iKON)</p>
                  <p class="artist">李夏怡&B.I</p>
                </div>
              </li>
              <li>
                <div class="left-img"></div>
                <div class="info">
                  <p class="song-name">Feedback</p>
                  <p class="artist">BoA&Nucksal (넉살)</p>
                </div>
              </li>
              <li>
                <div class="index">4</div>
                <div class="info">
                  <p title="너에게 못했던 내 마지막 말은" class="song-name">너에게 못했던 내 마지막 말은</p>
                  <p title="DAVICHI (다비치)" class="artist">DAVICHI (다비치)</p>
                </div>
              </li>
              <li>
                <div class="index">5</div>
                <div class="info">
                  <p class="song-name">고고베베</p>
                  <p class="artist">MAMAMOO</p>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="song-list song-list-artist">
        <div class="song-list-nav">
          <h3>歌手推荐</h3>
          <div class="sub-nav">
            <a href="javascript:" list-type="11" class="current">华语</a>
            <a href="javascript:" list-type="13">欧美</a>
            <a href="javascript:" list-type="12">日韩</a>
            <a href="javascript:" list-type="16">组合</a>
          </div>
          <a href="https://www.kuwo.cn/singers" class="song-list-more">更多<i>></i></a>
        </div>
        <div class="artist-list">
          <div class="artist-item">
            <div class="artist">
              <div class="pic-out">
                <img src="http://192.168.1.148:3000/placeholder.png" alt>
              </div>
              <p class="name">
                <span class="text"></span>
              </p>
              <div class="num"></div>
            </div>
          </div>
          <div class="artist-item">
            <div class="artist">
              <div class="pic-out">
                <img src="http://192.168.1.148:3000/placeholder.png" alt>
              </div>
              <p class="name">
                <span class="text"></span>
              </p>
              <div class="num"></div>
            </div>
          </div>
          <div class="artist-item">
            <div class="artist">
              <div class="pic-out">
                <img src="http://192.168.1.148:3000/placeholder.png" alt>
              </div>
              <p class="name">
                <span class="text"></span>
              </p>
              <div class="num"></div>
            </div>
          </div>
          <div class="artist-item">
            <div class="artist">
              <div class="pic-out">
                <img src="http://192.168.1.148:3000/placeholder.png" alt>
              </div>
              <p class="name">
                <span class="text"></span>
              </p>
              <div class="num"></div>
            </div>
          </div>
          <div class="artist-item">
            <div class="artist">
              <div class="pic-out">
                <img src="http://192.168.1.148:3000/placeholder.png" alt>
              </div>
              <p class="name">
                <span class="text"></span>
              </p>
              <div class="num"></div>
            </div>
          </div>
          <div class="artist-item">
            <div class="artist">
              <div class="pic-out">
                <img src="http://192.168.1.148:3000/placeholder.png" alt>
              </div>
              <p class="name">
                <span class="text"></span>
              </p>
              <div class="num"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="main-con1 main-container" style="display: none">
      <div class="con-l">
        <div class="con">
          <div class="sub-nav">
            <a href="javascript:" class="current">官方</a>
            <a href="javascript:">特色</a>
            <a href="javascript:">场景</a>
          </div>
          <ul class="con-list">
            <li class="active">
              <img src="./source/img/1690445603.png" alt>
              <div class="item-info">
                <p class="name">酷我飙升榜</p>
                <p class="time">今日更新</p>
              </div>
            </li>
            <li class="">
              <img src="./source/img/1690445586.png" alt>
              <div class="item-info">
                <p class="name">酷我新歌榜</p>
                <p class="time">今日更新</p>
              </div>
            </li>
            <li class="">
              <img src="./source/img/1690445597.png" alt>
              <div class="item-info">
                <p class="name">酷我热歌榜</p>
                <p class="time">今日更新</p>
              </div>
            </li>
            <li class="">
              <img src="./source/img/1690445606.png" alt>
              <div class="item-info">
                <p class="name">抖音歌曲榜</p>
                <p class="time">今日更新</p>
              </div>
            </li>
            <li class="">
              <img src="./source/img/1690445628.png" alt>
              <div class="item-info">
                <p class="name">万物DJ榜</p>
                <p class="time">今日更新</p>
              </div>
            </li>
            <li class="">
              <img src="./source/img/1690445615.png" alt>
              <div class="item-info">
                <p class="name">会员畅听榜</p>
                <p class="time">今日更新</p>
              </div>
            </li>
          </ul>
        </div>
      </div>
      <div class="con-r">
        <div class="content">
          <div class="content-title">
            <span class="title">酷我飙升榜</span>
            <span class="update-time">更新时间: </span>
          </div>
        </div>
        <div class="btns">
          <button class="play"><i></i>播放全部</button>
          <button><i></i>添加</button>
          <button><i></i>收藏</button>
          <a href="#comment"><i></i>评论</a>
        </div>
        <div class="list-out" id="list-out">
          <div class="list-in">
            <div class="list-head">
              <ul>
                <li class="head-num">序号</li>
                <li class="head-name">歌曲</li>
                <li class="head-artist">歌手</li>
                <li class="head-album">专辑</li>
                <li class="head-time">时长</li>
              </ul>
            </div>
            <ul class="rank-list">
            </ul>
          </div>
          <div class="loading-mask" style>
            <div class="loading-wrap">
              <div class="load">
                <span class="side1"></span>
                <span class="side2"></span>
                <span class="mid"></span>
                <span class="side2"></span>
                <span class="side1"></span>
              </div>
            </div>
          </div>
        </div>
        <div class="page-wrap">
          <!--<i class="BtnL"><</i>
          <ul>
            <li class="num current">1</li>
            <li class="num">2</li>
            <li class="num">3</li>
            <li class="notCursor">···</li>
            <li class="num">9</li>
          </ul>
          <i class="BtnR">></i>-->
        </div>
        <div class="comment" id="comment">
          <div class="all-comment">
            <div class="type">
              <span class="title">热门评论</span>
              <span class="num">82条</span>
            </div>
            <div class="comment-item">
              <div class="avatar">
                <img src="http://192.168.1.148:3000/placeholder.png" alt>
              </div>
              <div class="msg">
                <div class="nickname">
                  <span></span>
                </div>
                <div class="text"></div>
                <div class="time"></div>
              </div>
            </div>
            <div class="comment-item">
              <div class="avatar">
                <img src="http://192.168.1.148:3000/placeholder.png" alt>
              </div>
              <div class="msg">
                <div class="nickname">
                  <span></span>
                </div>
                <div class="text"></div>
                <div class="time"></div>
              </div>
            </div>
            <div class="comment-item">
              <div class="avatar">
                <img src="http://192.168.1.148:3000/placeholder.png" alt>
              </div>
              <div class="msg">
                <div class="nickname">
                  <span></span>
                </div>
                <div class="text"></div>
                <div class="time"></div>
              </div>
            </div>
            <div class="comment-item">
              <div class="avatar">
                <img src="http://192.168.1.148:3000/placeholder.png" alt>
              </div>
              <div class="msg">
                <div class="nickname">
                  <span></span>
                </div>
                <div class="text"></div>
                <div class="time"></div>
              </div>
            </div>
            <div class="comment-item">
              <div class="avatar">
                <img src="http://192.168.1.148:3000/placeholder.png" alt>
              </div>
              <div class="msg">
                <div class="nickname">
                  <span></span>
                </div>
                <div class="text"></div>
                <div class="time"></div>
              </div>
            </div>
          </div>
          <div class="all-comment">
            <div class="type recent" id="commonCommit">
              <span class="title">最新评论</span>
              <span class="num">3234条</span>
            </div>
          </div>
        </div>
        <div class="page-wrap">
          <!--<i class="commitBtnL"><</i>
          <ul>
            <li class="num current">1</li>
            <li class="num">2</li>
            <li class="num">3</li>
            <li class="num">4</li>
            <li class="num">5</li>
            <li class="num">6</li>
          </ul>
          <i class="commitBtnR">></i>-->
        </div>
      </div>
    </div>
    <div class="main-con2 main-container" style="display: none">
      <ul class="tag-en">
        <li prefix="" class="current">热门</li>
        <li prefix="A">A</li>
        <li prefix="B">B</li>
        <li prefix="C">C</li>
        <li prefix="D">D</li>
        <li prefix="E">E</li>
        <li prefix="F">F</li>
        <li prefix="G">G</li>
        <li prefix="H">H</li>
        <li prefix="I">I</li>
        <li prefix="J">J</li>
        <li prefix="K">K</li>
        <li prefix="L">L</li>
        <li prefix="M">M</li>
        <li prefix="N">N</li>
        <li prefix="O">O</li>
        <li prefix="P">P</li>
        <li prefix="Q">Q</li>
        <li prefix="R">R</li>
        <li prefix="S">S</li>
        <li prefix="T">T</li>
        <li prefix="U">U</li>
        <li prefix="V">V</li>
        <li prefix="W">W</li>
        <li prefix="X">X</li>
        <li prefix="Y">Y</li>
        <li prefix="Z">Z</li>
        <li prefix="35">#</li>
      </ul>
      <ul class="tag-kind">
        <li category="" class="current">全部</li>
        <li category="1">华语男</li>
        <li category="2">华语女</li>
        <li category="3">华语组合</li>
        <li category="4">日韩男</li>
        <li category="5">日韩女</li>
        <li category="6">日韩组合</li>
        <li category="7">欧美男</li>
        <li category="8">欧美女</li>
        <li category="9">欧美组合</li>
        <li category="10">其他</li>
      </ul>
      <div class="artist-error" style="display: none">
        <div>
          <img src="http://192.168.1.148:3000/data_grey.945e078.png" alt>
          <p>抱歉, 暂无相关数据</p>
        </div>
      </div>
      <div class="artist-container">
        <div class="artist-main" id="artist-main"></div>
        <div class="artist-other"></div>
        <div class="page-wrap">
          <i class="artistBtnL"><</i>
          <ul></ul>
          <i class="artistBtnR">></i>
        </div>
      </div>
    </div>
    <div class="main-con3 main-container" style="display: none">
      <div class="song-list">
        <div class="song-list-nav">
          <h3>精选歌单<i>></i></h3>
          <div class="sub-nav">
            <a href="javascript:" class="current"><span>最新</span></a>
            <a href="javascript:"><span>最热</span></a>
          </div>
        </div>
        <div class="song-list-content">
        </div>
        <div class="page-wrap">
          <i class="BtnL"><</i>
          <ul>
          </ul>
          <i class="BtnR">></i>
        </div>
      </div>
    </div>
    <div class="main-con4 main-container" style="display: none">
      <ul class="tag-kind">
        <li class="current">首播</li>
        <li>华语</li>
        <li>日韩</li>
        <li>网络</li>
        <li>欧美</li>
        <li>现场</li>
        <li>热舞</li>
        <li>伤感</li>
        <li>剧情</li>
      </ul>
      <div class="list-out">
        <div class="album-item">
          <div class="cover-out">
            <div class="cover-play">
              <span class="play"><i></i></span>
            </div>
            <img src="./source/img/4093527818.jpg" alt>
            <p class="play-cut">
              <i></i>
              <span>2270</span>
              <span>04:07</span>
            </p>
            <div class="shadow"></div>
          </div>
          <p class="name"><span>The Lighthouse Keeper</span></p>
          <p class="time"><span>Sam Smith</span></p>
        </div>
        <div class="album-item">
          <div class="cover-out">
            <div class="cover-play">
              <span class="play"><i></i></span>
            </div>
            <img src="./source/img/1214239470.jpg" alt>
            <p class="play-cut">
              <i></i>
              <span>1.4万</span>
              <span>03:43</span>
            </p>
            <div class="shadow"></div>
          </div>
          <p class="name"><span>Better</span></p>
          <p class="time"><span>TWICE</span></p>
        </div>
        <div class="album-item">
          <div class="cover-out">
            <div class="cover-play">
              <span class="play"><i></i></span>
            </div>
            <img src="./source/img/588659300.jpg" alt>
            <p class="play-cut">
              <i></i>
              <span>7391</span>
              <span>03:44</span>
            </p>
            <div class="shadow"></div>
          </div>
          <p class="name"><span>狮子山下</span></p>
          <p class="time"><span>刘德华</span></p>
        </div>
        <div class="album-item">
          <div class="cover-out">
            <div class="cover-play">
              <span class="play"><i></i></span>
            </div>
            <img src="./source/img/1448749776.jpg" alt>
            <p class="play-cut">
              <i></i>
              <span>7.7万</span>
              <span>03:46</span>
            </p>
            <div class="shadow"></div>
          </div>
          <p class="name"><span>吞噬星空</span></p>
          <p class="time"><span>张杰</span></p>
        </div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/1644018429.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>7041</span>
							<span>03:00</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>以剑为期</span></p>
					<p class="time"><span>张碧晨</span></p>
				</div>
      </div>
      <div class="list-out">
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/2094038573.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>2.2万</span>
							<span>02:40</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>拉我</span></p>
					<p class="time"><span>赵粤&陈卓璇&Nene郑乃馨&刘些宁&希林娜依高</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/2974001597.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>7.5万</span>
							<span>04:38</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>给电影人的情书</span></p>
					<p class="time"><span>单依纯</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/878032042.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>1.2万</span>
							<span>03:19</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>如虎</span></p>
					<p class="time"><span>徐梦圆&双笙 (陈元汐)</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/1037643682.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>976</span>
							<span>04:30</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>宁静海</span></p>
					<p class="time"><span>吴青峰</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/613641438.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>2.0万</span>
							<span>03:36</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>谁能明白我</span></p>
					<p class="time"><span>刘德华</span></p>
				</div>
      </div>
			<div class="list-out">
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/666342548.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>1.0万</span>
							<span>04:54</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>若燕</span></p>
					<p class="time"><span>尚雯婕</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/2609659962.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>3966</span>
							<span>03:11</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>Radio</span></p>
					<p class="time"><span>HENRY刘宪华</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/2420959501.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>9755</span>
							<span>04:29</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>是但求其爱</span></p>
					<p class="time"><span>陈奕迅</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/2821963930.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>1.1万</span>
							<span>05:07</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>风平浪静</span></p>
					<p class="time"><span>伍佰</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/45930506.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>1.0万</span>
							<span>03:22</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>别</span></p>
					<p class="time"><span>周笔畅</span></p>
				</div>
			</div>
			<div class="list-out">
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/3340744897.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>4.4万</span>
							<span>03:08</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>Winner Winner（和平精英2020PEC年度盛典主题曲）</span></p>
					<p class="time"><span>Tizzy T&Jony J&和平精英</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/2241934977.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>2.1万</span>
							<span>03:08</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>繁星追梦（王者荣耀梦想主题曲）</span></p>
					<p class="time"><span>易烊千玺</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/2915905606.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>4.6万</span>
							<span>03:50</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>孤独</span></p>
					<p class="time"><span>G.E.M.邓紫棋</span></p>
				</div>
				<div class="album-item">
					<div class="cover-out">
						<div class="cover-play">
							<span class="play"><i></i></span>
						</div>
						<img src="./source/img/823274720.jpg" alt>
						<p class="play-cut">
							<i></i>
							<span>2438</span>
							<span>02:46</span>
						</p>
						<div class="shadow"></div>
					</div>
					<p class="name"><span>Somebody</span></p>
					<p class="time"><span>派伟俊</span></p>
				</div>
			</div>
      <div class="page-wrap">
        <i><</i>
        <ul>
          <li><span>1</span></li>
          <li><span>2</span></li>
          <li><span>3</span></li>
          <li><span>···</span></li>
          <li><span>28</span></li>
        </ul>
        <i>></i>
      </div>
    </div>
  </div>
</body>
<script>
  var currentPage = 0
  var currentListPage = 1
  var currentCommentPage = 1
  var currentArtistPage = 1
  var loadingMask = document.querySelector('.loading-mask')

  /* 节流 */
  /*function throttle(fun, time = 250) {
    var lastTime = 0
    return function () {
      var now = new Date().getTime()
      if (now - lastTime >= time) {
        fun ()
        lastTime = now
      }
    }
  }*/
  
  /* webstorm中设置  region+描述 和 endregion  可以自定义折叠js或css代码位置*/
  /* 同理 <!--<editor-fold desc="折叠描述">--> 和 <!--</editor-fold>-->可以自定义html和Vue的template代码块的折叠 */
  /* region 顶部滚动轮播图 */
  var box = document.getElementsByClassName('swiper-container')[0]
  var BtnL = document.getElementsByClassName('BtnL')[0]
  var BtnR = document.getElementsByClassName('BtnR')[0]
  var swiperWrapper = document.getElementsByClassName('swiper-wrapper')[0]
  var swiperSlide = document.getElementsByClassName('swiper-slide')
  var swiperBullets = document.getElementsByClassName('swiper-bullets')[0]
  var blur = document.getElementsByTagName('image')
  var counter = 1 // 图 8片标识
  var circle = 0 // 按钮标识
  var flag = true // 一次轮播操作完成后才允许下次操作
  var timer // 定时器
  var mousedownFlag = false // 避免拖动时重复触发移出操作增加的定时器
  // 定时器
  var play = function() {
    timer = setInterval(function() {
      BtnR.click()
    }, 5000)
  }
  play()
  // 鼠标悬停时停止轮播, 移出时恢复轮播
  box.onmouseover = function() {
    clearInterval(timer)
  }
  box.onmouseleave = function() {
    if (mousedownFlag === false) {
      play()
    }
  };
  swiperWrapper.onmousedown = function () {
    clearInterval(timer)
  };
  // 动态生成按钮 按钮点击逻辑
  /* 7张图对应5个按钮, 需要分别设置状态, 判断两个边界时直接改值 */
  (function () {
    for (var i = 0; i < swiperSlide.length - 2; i++) {
      var span = document.createElement('span')
      span.className = 'current'
      span.setAttribute('index', i)
      swiperBullets.appendChild(span)
      span.addEventListener('click', function () {
        for (var i = 0; i < swiperBullets.children.length; i++) {
          swiperBullets.children[i].className = 'current'
        }
        this.className = 'current white'
        var index = parseInt(this.getAttribute('index')) + 1
        swiperWrapper.style.left = -1400 * index + 'px'
        circle = index - 1
        counter = index
      })
    }
  })()
  swiperBullets.children[0].className = 'current white'
  blur[0].style.display = 'block'
  blur[0].style.filter = 'url(#blur)'
  function circleChange() {
    (function () {
      for (var i = 0; i < swiperBullets.children.length; i++) {
        swiperBullets.children[i].className = 'current'
        blur[i].style.display = 'none'
        blur[i].style.filter = ""
      }
      swiperBullets.children[circle].className = 'current white'
      blur[circle].style.display = 'block'
      blur[circle].style.filter = 'url(#blur)'
    })()
  }
  BtnL.addEventListener('click', function () {
    if (flag) {
      flag = false
      if (counter > 0) {
        swiperWrapper.style.left = parseInt(swiperWrapper.style.left) + 1400 + 'px'
        counter--
        flag = true
        circle--
        if (circle < 0) {
          circle = swiperBullets.children.length - 1
        }
        circleChange()
      } else {
        swiperWrapper.style.transition = 'none'
        swiperWrapper.style.left = '-8400px'
        setTimeout(function() {
          swiperWrapper.style.transition = 'left 0.5s ease-in-out'
          swiperWrapper.style.left = '-7000px'
        }, 300);
        counter = 5
        circle = 4
        flag = true
        circleChange()
      }
    }
  })
  BtnR.addEventListener('click', function () {
    if (flag) {
      flag = false
      if (counter < 7) {
        swiperWrapper.style.left = parseInt(swiperWrapper.style.left) - 1400 + 'px'
        counter++
        flag = true
        circle++
        if (circle > swiperBullets.children.length - 1) {
          circle = 0
        }
        circleChange()
      } else {
        swiperWrapper.style.transition = 'none'
        swiperWrapper.style.left = '-1400px'
        setTimeout(function() {
          swiperWrapper.style.transition = 'left 0.5s ease-in-out'
          swiperWrapper.style.left = '-2800px'
        }, 300)
        circle = 1
        counter = 2
        flag = true
        circleChange()
      }
    }
  })
  // 拖动超过一半触发点击事件
  var currentLeft
  var downMouseLeft
  var currentMouseLeft
  var swiperJudge = false
  var firstTime = ''
  var lastTime = ''
  swiperWrapper.addEventListener('mousedown', function (e) {
    mousedownFlag = true
    clearInterval(timer)
    swiperJudge = true
    swiperWrapper.style.transition = 'none'
    currentLeft = parseInt(swiperWrapper.style.left)
    downMouseLeft = e.clientX
    firstTime = new Date().getTime()
    window.addEventListener('mousemove', move)
  })
  /* move事件绑定到window上,避免滑动时超出容器导致后续操作不生效 */
  function move (e) {
    if(counter === 0 && (e.clientX - downMouseLeft) > 0) {}
    else if (counter === 7 && (e.clientX - downMouseLeft) < 0) {}
    else { swiperWrapper.style.left = currentLeft - downMouseLeft + e.clientX + 'px' }
  }
  window.addEventListener('mouseup', function (e) {
    lastTime = new Date().getTime()
    mousedownFlag = false
    if ((lastTime - this.firstTime) < 100) {
      swiperJudge = false
      e.target.children[0].click()
    }
    if (swiperJudge === true) {
      var upMouseLeft = e.clientX
      window.removeEventListener('mousemove', move)
      swiperWrapper.style.transition = 'left 0.5s ease-in-out'
      if (upMouseLeft - downMouseLeft > 800) {
        swiperWrapper.style.left = currentLeft + 'px'
        BtnL.click()
      } else if (upMouseLeft - downMouseLeft < -800){
        swiperWrapper.style.left = currentLeft + 'px'
        BtnR.click()
      } else {
        swiperWrapper.style.left = currentLeft + 'px'
      }
      play()
    }
    swiperJudge = false
  })
  /* 视窗浮动下载框 */
  var model = document.getElementsByClassName('model')[0]
  var close = document.getElementsByClassName('close')[0]
  var downloadAndroid = document.getElementsByClassName('downloadAndroid')[0]
  var downloadIphone = document.getElementsByClassName('downloadIphone')[0]
  var androidTitle = document.getElementsByClassName('androidTitle')[0]
  var iphoneTitle = document.getElementsByClassName('iphoneTitle')[0]
  close.addEventListener('click', function() {
    model.style.display = 'none'
  })
  downloadAndroid.addEventListener('click', function() {
    model.style.display = 'block'
    androidTitle.style.display = 'inline-block'
    iphoneTitle.style.display = 'none'
  })
  downloadIphone.addEventListener('click', function() {
    model.style.display = 'block'
    iphoneTitle.style.display = 'inline-block'
    androidTitle.style.display = 'none'
  })
  /* endregion */
  
  /* 添加数字过滤 */
  function filterNum(number, type) {
    var numberTxt = ''
    switch (type) {
      case 0:
        if (number > 9999) {
          numberTxt += Math.floor(number/10000) + '万'
          return numberTxt
        } else {
          return number
        }
      case 1:
        return number + '首歌曲'
      case 2:
        if (number/60 > 0 && number%60 !== 0) {
            return '0'+ Math.floor(number/60) + ':' + number%60
        } else if (number/60 > 0 && number%60 === 0) {
          return '0'+ Math.floor(number/60) + ':' + '00'
        }
        else {
          return '00' + ':' + number
        }
      case 3:
        var d1 = new Date(number)
        var now = new Date();
        if (Number(now - d1)/1000/60 < 60) {
          return Math.floor(Number(now - d1)/1000/60) + '分钟前'
        } else if (Number(now - d1)/1000/60 >= 60 && Number(now - d1)/1000/60/60 < 24) {
          return Math.floor(Number(now - d1)/1000/60/60) + '小时前'
        } else {
          return number
        }
    }
  }
  
  /* 兼容IE的 更改html标签类方法 */
  function hasClass(ele, cls) {
    return ele.className.match(new RegExp('(\\s|^)' + cls + '(\\s|$)', 'ig'))
  }
  function addClass(ele, cls) {
    if (!this.hasClass(ele, cls)) ele.className += ' ' + cls
  }
  function removeClass(ele, cls) {
    if (hasClass(ele, cls)) {
      var reg = new RegExp('(\\s|^)' + cls + '(\\s|$)', 'ig')
      ele.className = ele.className.replace(reg, '')
    }
  }
  function replaceClass(ele, oldClass, newClass) {
    if (hasClass(ele, oldClass)) {
      removeClass(ele, oldClass)
      addClass(ele, newClass)
    }
  }
  function toggleClass(ele, cls1, cls2) {
    if (hasClass(ele, cls1)) {
      replaceClass(ele, cls1, cls2)
    } else if (hasClass(ele, cls2)) {
      replaceClass(ele, cls1, cls2)
    } else {
      addClass(ele, cls1)
    }
  }
  
  /* 检测图片位置, 用于懒加载图片 */
  /*function isVisible(img) {
    var imgRect = img.getBoundingClientRect()
    return imgRect.bottom > 0 && imgRect.top < window.innerHeight && imgRect.right > 0 && imgRect.left < window.innerWidth
  }*/
  
  /* 最上级标签动态选中样式 */
  /* 此处闭包导致所有情况下均将current赋值在 subNavTitle[subNavTitle.length]上, 使用立即执行函数, 见test下的for循环中的闭包问题及解决方案*/
  var subNavTitle = document.querySelector('.sub-nav')
  var mainContainer = document.querySelectorAll('.main-container')
  var firstAccess = [0, 0, 0, 0, 0]
  
  /* 最上级标签点击效果  通过事件委托绑定点击事件到父级元素上 */
  subNavTitle.addEventListener('click', function (e) {
    if (e.target.tagName === 'A') {
      for (var i = 0; i < subNavTitle.children.length; i++) {
        removeClass(subNavTitle.children[i], 'current')
      }
      addClass(e.target, 'current')
      var n = e.target.getAttribute('page-n')
      if (currentPage !== Number(n) && n) {
        currentPage = Number(n)
        gainListHandler(currentPage)
      }
    }
  })
  
  /* 获取飙升榜歌曲列表 */
  async function gainRankList(page) {
    var judge = false
    var rankListImgs = []
    loadingMask.style.display = 'block'
    var rankList = document.querySelector('.rank-list')
    rankList.innerHTML = ''
    await axios.request({
      url: 'http://192.168.1.148:3000/musicList',
      method: 'get',
      params: {
        _page: page,
        _limit: 20
      }
    }).then(function(r) {
      if (r.status === 200) {
        for (var i = 0; i < r.data.length; i++) {
          rankListImgs.push('http://192.168.1.148:3000/' + r.data[i].pic)
          if (i % 2 !== 0) {
            var str = '<li class="song-item dark">'
          } else {
            str = '<li class="song-item">'
          }
          str += '<div class="song-rank">'
          switch ((currentListPage - 1) * 20 + i + 1) {
            case 1: {
              str +=
                '<div class="rank-num" style="background: url(http://192.168.1.148:3000/icon_first.df06fb1.png) center 4px no-repeat; background-size: 168%;"></div>' +
                '<img src="http://192.168.1.148:3000/placeholder.png" alt>'
              break
            }
            case 2: {
              str +=
                '<div class="rank-num" style="background: url(http://192.168.1.148:3000/icon_secondary.d99e73e.png) center 4px no-repeat; background-size: 168%;"></div>' +
                '<img src="http://192.168.1.148:3000/placeholder.png" alt>'
              break
            }
            case 3: {
              str +=
                '<div class="rank-num" style="background: url(http://192.168.1.148:3000/icon_third.8abbb65.png) center 4px no-repeat; background-size: 168%;"></div>' +
                '<img src="http://192.168.1.148:3000/placeholder.png" alt>'
              break
            }
            default: {
              str +=
                '<div class="rank-num">' + ((currentListPage - 1) * 20 + i + 1) + '</div>' +
                '<img src="http://192.168.1.148:3000/placeholder.png" alt>'
            }
          }
          str +=
            '</div>' +
            '<div class="song-name" title="' + r.data[i].name + '">' +
            '<a href="">' + r.data[i].name + '</a>'
          if (r.data[i].hasLossless) {
            str += '<i class="wusun"></i>'
          }
          if (r.data[i].hasmv) {
            str += '<i class="mv"></i>'
          }
          str +=
            '</div>' +
            '<div class="song-artist" title="' + r.data[i].artist + '">' +
            '<span>' + r.data[i].artist + '</span>' +
            '</div>' +
            '<div class="song-album" title="' + r.data[i].album + '">' +
            '<span>' + r.data[i].album + '</span>' +
            '</div>' +
            '<div class="song-time">' +
            '<span>' + filterNum(r.data[i].duration, 2) + '</span>' +
            '</div>' +
            '<div class="btns">' +
            '<i></i>' +
            '<i></i>' +
            '<i></i>' +
            '<i></i>' +
            '</div>'
          rankList.innerHTML += str
        }
        var img = [...document.querySelectorAll('.rank-list .song-rank img')]
        rankListImgs.forEach((v, i) => {
          var _img = new Image()
          _img.onload = () => {
            img[i].setAttribute("src", rankListImgs[i])
          }
          _img.src = rankListImgs[i]
        })
        judge =  true
        loadingMask.style.display = 'none'
      } else judge = false
    })
    return judge
  }
  
  /* 获取分页按钮 */
  function gainRankListPage(pageWrap, rPage, currentListPage) {
    var error = document.querySelector('.artist-error')
    if (rPage === 0) {
      pageWrap.innerHTML = ''
      error.style.display = 'block'
    } else {
      error.style.display = 'none'
      pageWrap.innerHTML =
        '<i class="BtnL forbidden"><</i>' +
        '<ul>' +
        '</ul>' +
        '<i class="BtnR">></i>'
      var ul = pageWrap.querySelector('ul')
      var BtnL = pageWrap.querySelector('.BtnL')
      var BtnR = pageWrap.querySelector('.BtnR')
      var str
      /* 当前页小于等于2时 */
      if (currentListPage <= 2 && rPage >= 5) {
        console.log(1)
        str = ''
        for (var i = 1; i <= 3; i++) {
          if (i === currentListPage) {
            str += '<li class="num current">' + i + '</li>'
          } else {
            str += '<li class="num">' + i + '</li>'
          }
        }
        str +=
          '<li class="notCursor">···</li>' +
          '<li class="num">' + rPage + '</li>'
        ul.innerHTML = str
      } else if (currentListPage <= 2 && rPage < 5) {
        console.log(2)
        str = ''
        for (i = 1; i <= rPage; i++) {
          if (i === currentListPage) {
            str += '<li class="num current">' + i + '</li>'
          } else {
            str += '<li class="num">' + i + '</li>'
          }
          ul.innerHTML = str
        }
      }
      /* 当前页等于3时 */
      if (currentListPage === 3 && rPage >= 6) {
        console.log(3)
        str = ''
        for (i = 1; i <= 4; i++) {
          if (i === 3) {
            str += '<li class="num current">' + i + '</li>'
          } else {
            str += '<li class="num">' + i + '</li>'
          }
        }
        str +=
          '<li class="notCursor">···</li>' +
          '<li class="num">' + rPage + '</li>'
        ul.innerHTML = str
      } else if (currentListPage === 3 && rPage <= 5) {
        console.log(4)
        str = ''
        for (i = 1; i <= rPage; i++) {
          if (i === currentListPage) {
            str += '<li class="num current">' + i + '</li>'
          } else {
            str += '<li class="num">' + i + '</li>'
          }
          ul.innerHTML = str
        }
      }
      /* 当前页大于3 且小于rPage-2时 */
      if (rPage > 3) {
        if (currentListPage > 3 && currentListPage < rPage - 2 && currentListPage + 2 < rPage) {
          console.log(5)
          str =
            '<li class="num">1</li>' +
            '<li class="notCursor">···</li>' +
            '<li class="num">' + (currentListPage - 1) + '</li>' +
            '<li class="num current">' + currentListPage + '</li>' +
            '<li class="num">' + (currentListPage + 1) + '</li>' +
            '<li class="notCursor">···</li>' +
            '<li class="num">' + rPage + '</li>'
          ul.innerHTML = str
        } else if (currentListPage > 3 && currentListPage <  currentListPage + 2 >= rPage) {
          console.log(6)
          str =
            '<li class="num">1</li>' +
            '<li class="notCursor">···</li>' +
            '<li class="num">' + (currentListPage - 1) + '</li>' +
            '<li class="num current">' + currentListPage + '</li>' +
            '<li class="num">' + (currentListPage + 1) + '</li>' +
            '<li class="num">' + rPage + '</li>'
          ul.innerHTML = str
        }
        /* 当前页等于rPage-2时 */
        if (currentListPage === rPage - 2  && rPage > 5) {
          console.log(7)
          str =
            '<li class="num">1</li>' +
            '<li class="notCursor">···</li>'
          for (i = currentListPage - 1; i <= rPage; i++) {
            if (i === currentListPage) {
              str += '<li class="num current">' + i + '</li>'
            } else {
              str += '<li class="num">' + i + '</li>'
            }
          }
          ul.innerHTML = str
        } else if (currentListPage === rPage-2 && rPage <= 5) {
          console.log(8)
          str = ''
          for (i = 1; i <= rPage; i++) {
            if (currentListPage === i) {
              str += '<li class="num current">' + i + '</li>'
            } else {
              str += '<li class="num">' + i + '</li>'
            }
          }
          ul.innerHTML = str
        }
        /* 当前页面大于rPage-2时 */
        if (currentListPage > rPage - 2 && currentListPage >= 4) {
          console.log(9)
          str =
            '<li class="num">1</li>' +
            '<li class="notCursor">···</li>'
          for (i = rPage - 2; i <= rPage; i++) {
            if (currentListPage === i) {
              str += '<li class="num current">' + i + '</li>'
            } else {
              str += '<li class="num">' + i + '</li>'
            }
          }
          ul.innerHTML = str
        } else if (currentListPage > rPage-2 && currentListPage < 4) {
          console.log(10)
          str = ''
          for (i = 1; i <= rPage; i++) {
            if (currentListPage === i) {
              str += '<li class="num current">' + i + '</li>'
            } else {
              str += '<li class="num">' + i + '</li>'
            }
          }
          ul.innerHTML = str
        }
      }
      if (currentListPage !== 1) { removeClass(BtnL, 'forbidden') }
      if (currentListPage === 1) { addClass(BtnL, 'forbidden') }
      if (currentListPage !== rPage) { removeClass(BtnR, 'forbidden') }
      if (currentListPage === rPage) { addClass(BtnR, 'forbidden') }
    }
  }
  
  /* 获取普通评论 */
  async function gainCommonComment(page) {
    var commonComment = document.querySelectorAll('.all-comment')[1]
    var commonCommentImgs = []
    await axios.request({
      url: 'http://192.168.1.148:3000/commonComment',
      method: 'get',
    }).then(function(r) {
      commonComment.innerHTML =
        '<div class="type recent" id="commonCommit">' +
        '<span class="title">最新评论</span>' +
        '<span class="num">' + r.data.length + '条</span>' +
        '</div>'
    })
    await axios.request({
      url: 'http://192.168.1.148:3000/commonComment',
      method: 'get',
      params: {
        _page: page,
        _limit: 5
      }
    }).then(function (r) {
      var str = ''
      if (r.status === 200) {
        for (var i = 0; i < r.data.length; i++) {
          commonCommentImgs.push('http://192.168.1.148:3000/' + r.data[i].u_pic)
          str +=
            '<div class="comment-item">' +
            '<div class="avatar">' +
            '<img src="http://192.168.1.148:3000/placeholder.png" alt>' +
            '</div>' +
            '<div class="msg">' +
            '<div class="nickname">' +
            '<span>' + r.data[i].u_name + '</span>' +
            '</div>'
          if (r.data[i].reply) {
            str +=
              '<div class="text">回复<a href="javascript:">' + r.data[i].reply.u_name + ':</a>' + r.data[i].reply.msg + '</div>' +
              '<div class="reply">' + r.data[i].msg + '</div>'
          } else {
            str +=
              '<div class="text">' + r.data[i].msg + '</div>'
          }
          str +=
            '<div class="time">' + filterNum(r.data[i].time, 3) + '</div>' +
            '</div>' +
            '</div>'
        }
        commonComment.innerHTML += str
        var img = [...commonComment.querySelectorAll('img')]
        commonCommentImgs.forEach((v, i) => {
          var _img = new Image()
          _img.onload = () => {
            img[i].setAttribute("src", commonCommentImgs[i])
          }
          _img.src = commonCommentImgs[i]
        })
      } else { alert(r.statusText) }
    })
  }
  
  /* 获取歌手列表 */
  var maxArtistPage = 1
  async function gainArtistInfo(page, category, prefix) {
    var artistMain = document.querySelector('.artist-main')
    var artistOther = document.querySelector('.artist-other')
    var param = {}
    var param2 = {}
    var artistInfoImgs = []
    if(category && !prefix) {
      param = {
        category: category,
        _page: page,
        _limit: 60
      }
      param2 = {
        category: category,
      }
    }
    if (!category && prefix) {
      param = {
        prefix: prefix,
        _page: page,
        _limit: 60
      }
      param2 = {
        prefix: prefix,
      }
    }
    if (category && prefix) {
      param = {
        category: category,
        prefix: prefix,
        _page: page,
        _limit: 60
      }
      param2 = {
        category: category,
        prefix: prefix,
      }
    }
    if (!category && !prefix) {
      param = {
        _page: page,
        _limit: 60,
      }
    }
    await axios.request({
      url: 'http://192.168.1.148:3000/artistInfo',
      method: 'get',
      params: param
    }).then(function (r) {
      if (r.status === 200) {
        var txt1 = ''
        var txt2 = ''
        for (var i = 0; i < r.data.length; i++) {
          artistInfoImgs.push('http://192.168.1.148:3000/' + r.data[i].pic)
          if (i < 12 && page === 1) {
            if ((i+1)%6 === 0) {
              txt1 += '<div class="artist-item last">'
            } else {
              txt1 += '<div class="artist-item">'
            }
            txt1 +=
              '<div class="artist">' +
              '<div class="pic-out">' +
              '<img src="http://192.168.1.148:3000/placeholder.png" alt>' +
              '</div>' +
              '<p class="name"><span>' + r.data[i].name + '</span></p>' +
              '<p class="num">' + filterNum(r.data[i].musicNum, 1) + '</p>' +
              '</div>' +
              '</div>'
          }
          if (i >= 12 && page === 1) {
            if ((i+1)%6 === 0) {
              txt2 += '<div class="artist-item last">'
            } else {
              txt2 += '<div class="artist-item">'
            }
            txt2 +=
              '<div class="img-out"><img src="http://192.168.1.148:3000/placeholder.png" alt></div>' +
              '<span>' + r.data[i].name + '</span>' +
              '</div>'
          }
          if (page !== 1) {
            if ((i+1)%6 === 0) {
              txt2 += '<div class="artist-item last">'
            } else {
              txt2 += '<div class="artist-item">'
            }
            txt2 +=
              '<div class="img-out"><img src="http://192.168.1.148:3000/placeholder.png" alt></div>' +
              '<span>' + r.data[i].name + '</span>' +
              '</div>'
          }
        }
        artistMain.innerHTML = txt1
        artistOther.innerHTML = txt2
        var img = [...document.querySelector('.artist-container').querySelectorAll('img')]
        artistInfoImgs.forEach((v, i) => {
          var _img = new Image()
          _img.onload = () => {
            img[i].setAttribute("src", artistInfoImgs[i])
          }
          _img.src = artistInfoImgs[i]
        })
      } else {
        alert(r.statusText)
      }
    })
    await axios.request({
      url: 'http://192.168.1.148:3000/artistInfo',
      method: 'get',
      params: param2
    }).then(function(r) {
      if (r.status === 200) {
        maxArtistPage = r.data.length%60 === 0 ? Math.floor(r.data.length/60) : Math.floor(r.data.length/60) + 1
      } else { alert(r.statusText) }
    })
  }
  
  /* 获取当前页面 */
  function gainListHandler(currentPage) {
    for (var i = 0; i < mainContainer.length; i++) {
      mainContainer[i].style.display = 'none'
    }
    mainContainer[currentPage].style.display = 'block'
    switch (currentPage) {
      case 0: {
        if (firstAccess[currentPage] === 0) {
          var subNavDevice = document.querySelector('.sub-nav-device')
          var songListDevice = document.querySelector('.song-list-device .song-list-content')
          var artistDevice = document.querySelector('.song-list-artist .sub-nav')
          var itemsArtist = document.querySelector('.song-list-artist .artist-list')
          var songListDeviceImgs = []
          var ArtistAdviceImgs = []
          axios.request({
            url: 'http://192.168.1.148:3000/playList',
            method: 'get',
            params: {
              id: 'rcm'
            }
          }).then(function (r) {
            if (r.status === 200) {
              var str = ''
              songListDevice.innerHTML = ''
              for (i = 0; i < r.data.length && i < 5; i++) {
                songListDeviceImgs.push('http://192.168.1.148:3000/' + r.data[i].img)
                str +=
                  '<div class="item">' +
                  '<div class="pic-out">' +
                  '<div class="cover">' +
                  '<span class="play-icon">' +
                  '<i class="icon-front"></i>' +
                  '</span>' +
                  '</div>' +
                  '<img src="http://192.168.1.148:3000/placeholder.png" alt>' +
                  '</div>' +
                  '<p class="name">' + r.data[i].name + '</p>' +
                  '<p class="count"><i></i>' + filterNum(r.data[i].listencnt, 0) + '</p>' +
                  '</div>'
              }
              songListDevice.innerHTML = str
              /* 预加载 */
              var img = [...document.querySelectorAll('.song-list-device .song-list-content img')]
              songListDeviceImgs.forEach((v, i) => {
                var _img = new Image()
                _img.onload = () => {
                  img[i].setAttribute("src", songListDeviceImgs[i])
                }
                _img.src = songListDeviceImgs[i]
              })
            } else {
              alert(r.statusText)
            }
          })
          axios.request({
            url: 'http://192.168.1.148:3000/artistList',
            method: 'get'
          }).then(function (r) {
            if (r.status === 200) {
              var str = ''
              for (var i = 0; i < r.data.length && i < 6; i++) {
                ArtistAdviceImgs.push('http://192.168.1.148:3000/' + r.data[i].pic)
                str +=
                  '<div class="artist-item">' +
                  '<div class="artist">' +
                  '<div class="pic-out">' +
                  '<img src="http://192.168.1.148:3000/placeholder.png" alt>' +
                  '</div>' +
                  '<p class="name">' +
                  '<span class="text">' + r.data[i].name + '</span>' +
                  '</p>' +
                  '<p class="num">' + filterNum(r.data[i].musicNum, 1) + '</p>' +
                  '</div>' +
                  '</div>'
              }
              itemsArtist.innerHTML = str
              //预加载
              var img = [...document.querySelectorAll('.song-list-artist .artist-list img')]
              ArtistAdviceImgs.forEach((v, i) => {
                var _img = new Image()
                _img.onload = () => {
                  img[i].setAttribute("src", ArtistAdviceImgs[i])
                }
                _img.src = ArtistAdviceImgs[i]
              })
            } else {
              alert(r.statusText)
            }
          })
          subNavDevice.addEventListener('click', function (e) {
            if (e.target.tagName === 'A') {
              for (var i = 0; i < subNavDevice.children.length; i++) {
                removeClass(subNavDevice.children[i], 'current')
              }
              addClass(e.target, 'current')
              var n = e.target.getAttribute('list-type')
              axios.request({
                  url: 'http://192.168.1.148:3000/playList',
                  method: 'get',
                  params: {
                    id: n
                  }
                }).then(function (r) {
                  if (r.status === 200) {
                    var imgs = songListDevice.querySelectorAll('img')
                    var name = songListDevice.querySelectorAll('.name')
                    var count = songListDevice.querySelectorAll('.count')
                    songListDeviceImgs = []
                    for (i = 0; i < r.data.length && i < 5; i++) {
                      imgs[i].src = "http://192.168.1.148:3000/placeholder.png"
                      name[i].innerHTML = r.data[i].name
                      count[i].innerHTML = filterNum(r.data[i].listencnt, 0)
                      songListDeviceImgs.push('http://192.168.1.148:3000/' + r.data[i].img)
                    }
                    /* 预加载 */
                    var img = [...document.querySelectorAll('.song-list-device .song-list-content img')]
                    songListDeviceImgs.forEach((v, i) => {
                      var _img = new Image()
                      _img.onload = () => {
                        img[i].setAttribute("src", songListDeviceImgs[i])
                      }
                      _img.src = songListDeviceImgs[i]
                    })
                  }
                })
            }
          })
          artistDevice.addEventListener('click', function (e) {
            if (e.target.tagName === 'A') {
              for (var i = 0; i < artistDevice.children.length; i++) {
                removeClass(artistDevice.children[i], 'current')
              }
              addClass(e.target, 'current')
              var n = Number(e.target.getAttribute('list-type'))
              axios.request({
                url: 'http://192.168.1.148:3000/artistList',
                method: 'get',
                params: {
                  category: n
                }
              }).then(function (r) {
                if (r.status === 200) {
                  var imgs = itemsArtist.querySelectorAll('img')
                  var text = itemsArtist.querySelectorAll('.text')
                  var num = itemsArtist.querySelectorAll('.num')
                  ArtistAdviceImgs = []
                  for (i = 0; i < r.data.length && i < 6; i++) {
                    imgs[i].src = "http://192.168.1.148:3000/placeholder.png"
                    text[i].innerHTML = r.data[i].name
                    num[i].innerHTML = filterNum(r.data[i].musicNum, 1)
                    ArtistAdviceImgs.push('http://192.168.1.148:3000/' + r.data[i].pic)
                  }
                  /* 预加载 */
                  var img = [...document.querySelectorAll('.song-list-artist .artist-list img')]
                  ArtistAdviceImgs.forEach((v, i) => {
                    var _img = new Image()
                    _img.onload = () => {
                      img[i].setAttribute("src", ArtistAdviceImgs[i])
                    }
                    _img.src = ArtistAdviceImgs[i]
                  })
                }
              })
              
            }
          })
        }
        firstAccess[currentPage] = 1
        break;
      }
      case 1: {
        if (firstAccess[currentPage] === 0) {
          /* 飙升榜及其分页 */
          var rankListNav = document.querySelector('.main-con1 .sub-nav')
          var loadingMask = document.querySelector('.loading-mask')
          var updateTime = document.querySelector('.update-time')
          var pageWrap = document.querySelectorAll('.con-r .page-wrap')[0]
          var CommentPageWrap = document.querySelectorAll('.con-r .page-wrap')[1]
          rankListNav.addEventListener('click', function (e) {
            if (e.target.tagName === 'A') {
              for (var i = 0; i < rankListNav.children.length; i++) {
                removeClass(rankListNav.children[i], 'current')
              }
              addClass(e.target, 'current')
            }
          })
          var time = new Date()
          var date
          if (time.getMonth() < 10) {
            date = time.getFullYear() + '-0' + (time.getMonth() + 1) + '-' + time.getDate()
          } else {
            date = time.getFullYear() + '-' + (time.getMonth() + 1) + '-' + time.getDate()
          }
          updateTime.innerHTML += date
          var promise = new Promise(function (resolve, reject) {
            gainRankList(currentListPage).then(function (res) {
              if (res) {
                resolve()
              } else {
                reject()
              }
            })
          })
          promise.then(function () {
            loadingMask.style.display = 'none'
            axios.request({
              url: 'http://192.168.1.148:3000/musicList',
              method: 'get'
            }).then(function(r) {
              pageWrap.innerHTML =
                '<i class="BtnL forbidden"><</i>' +
                '<ul>' +
                '</ul>' +
                '<i class="BtnR">></i>'
              var ul = pageWrap.querySelector('ul')
              for (var i = 1; i<= r.data.length/20; i++) {
                if (i <= 3) {
                  if (i === 1) {
                    ul.innerHTML += '<li class="num current">' + i + '</li>'
                  } else {
                    ul.innerHTML += '<li class="num">' + i + '</li>'
                  }
                }
              }
              if (i > 4) {
                ul.innerHTML +=
                  '<li class="notCursor">···</li>' +
                  '<li class="num">'+ Math.floor(r.data.length/20) +'</li>'
              }
              pageWrap.addEventListener('click', function(e) {
                if (e.target.tagName === 'LI' && hasClass(e.target, 'num')) {
                  window.scrollTo({
                    top: document.getElementById("list-out").offsetTop + 80,
                    behavior: "instant"
                  });
                  for (var i = 0; i < ul.children; i++) {
                    removeClass(ul.children[i], 'current')
                  }
                  addClass(e.target, 'current')
                  currentListPage = Number(e.target.innerHTML)
                  gainRankList(Number(e.target.innerHTML))
                  gainRankListPage(pageWrap, Math.floor(r.data.length/20), currentListPage)
                }
                if (hasClass(e.target, 'BtnL') && currentListPage !== 1) {
                  gainRankList(--currentListPage)
                  gainRankListPage(pageWrap, Math.floor(r.data.length/20), currentListPage)
                  window.scrollTo({
                    top: document.getElementById("list-out").offsetTop + 80,
                    behavior: "instant"
                  });
                }
                if (hasClass(e.target, 'BtnR') && currentListPage !== Math.floor(r.data.length/20)) {
                  gainRankList(++currentListPage)
                  gainRankListPage(pageWrap, Math.floor(r.data.length/20), currentListPage)
                  window.scrollTo({
                    top: document.getElementById("list-out").offsetTop + 80,
                    behavior: "instant"
                  });
                }
              })
            })
            firstAccess[currentPage] = 1
          }, function() {alert('Something wrong! Check your network!')})
          /* 热门评论 */
          var hotComment = document.querySelectorAll('.all-comment')[0]
          var hotCommentImgs = []
          axios.request({
            url: 'http://192.168.1.148:3000/hotComment',
            method: 'get'
          }).then(function (r) {
            if (r.status === 200) {
              hotComment.innerHTML = ''
              var str = '<div class="type">' +
                '<span class="title">热门评论</span>' +
                '<span class="num">'+ r.data.length + '条</span>' +
                '</div>'
              for (var i = 0; i < r.data.length; i++) {
                hotCommentImgs.push('http://192.168.1.148:3000/' + r.data[i].u_pic)
                str +=
                  '<div class="comment-item">' +
                    '<div class="avatar">' +
                     '<img src="http://192.168.1.148:3000/placeholder.png" alt>' +
                    '</div>' +
                    '<div class="msg">' +
                      '<div class="nickname">' +
                       '<span>' + r.data[i].u_name + '</span>' +
                      '</div>' +
                      '<div class="text">' + r.data[i].msg + '</div>' +
                      '<div class="time">' + filterNum(r.data[i].time, 3) + '</div>' +
                    '</div>' +
                  '</div>'
              }
              hotComment.innerHTML += str
              /* 预加载 */
              var img = [...document.querySelectorAll('.all-comment')[0].querySelectorAll('img')]
              hotCommentImgs.forEach((v, i) => {
                var _img = new Image()
                _img.onload = () => {
                  img[i].setAttribute("src", hotCommentImgs[i])
                }
                _img.src = hotCommentImgs[i]
              })
            } else { alert(r.statusText) }
          })
          /* 普通评论及分页 */
          gainCommonComment(1)
          axios.request({
            url: 'http://192.168.1.148:3000/commonComment',
            method: 'get'
          }).then(function (r) {
            if (r.status === 200) {
              CommentPageWrap.innerHTML =
                '<i class="BtnL forbidden"><</i>' +
                '<ul>' +
                '</ul>' +
                '<i class="BtnR">></i>'
              var ul = CommentPageWrap.querySelector('ul')
              for (var i = 1; i<= r.data.length/5; i++) {
                if (i <= 3) {
                  if (i === 1) {
                    ul.innerHTML += '<li class="num current">' + i + '</li>'
                  } else {
                    ul.innerHTML += '<li class="num">' + i + '</li>'
                  }
                }
              }
              if (i > 4) {
                ul.innerHTML +=
                  '<li class="notCursor">···</li>' +
                  '<li class="num">'+ Math.floor(r.data.length/5) +'</li>'
              }
              CommentPageWrap.addEventListener('click', function(e) {
                if (e.target.tagName === 'LI' && hasClass(e.target, 'num')) {
                  window.scrollTo({
                    top: document.getElementById("commonCommit").offsetTop + 80,
                    behavior: "instant"
                  });
                  for (var i = 0; i < ul.children; i++) {
                    removeClass(ul.children[i], 'current')
                  }
                  addClass(e.target, 'current')
                  currentCommentPage = Number(e.target.innerHTML)
                  gainCommonComment(Number(e.target.innerHTML))
                  gainRankListPage(CommentPageWrap, Math.floor(r.data.length/5), currentCommentPage)
                }
                if (hasClass(e.target, 'BtnL') && currentCommentPage !== 1) {
                  gainCommonComment(--currentCommentPage)
                  gainRankListPage(CommentPageWrap, Math.floor(r.data.length/5), currentCommentPage)
                  window.scrollTo({
                    top: document.getElementById("commonCommit").offsetTop + 80,
                    behavior: "instant"
                  });
                }
                if (hasClass(e.target, 'BtnR') && currentCommentPage !== Math.floor(r.data.length/5)) {
                  gainCommonComment(++currentCommentPage)
                  gainRankListPage(CommentPageWrap, Math.floor(r.data.length/5), currentCommentPage)
                  window.scrollTo({
                    top: document.getElementById("commonCommit").offsetTop + 80,
                    behavior: "instant"
                  });
                }
              })
            } else { alert(r.statusText) }
          })
        }
        break
      }
      case 2: {
        if (firstAccess[currentPage] === 0) {
          var artistPageWrap = document.querySelector('.artist-container .page-wrap')
          var category = ''
          var prefix = ''
          gainArtistInfo(1)
          var tagEn = document.querySelector('.tag-en')
          var tagKind = document.querySelector('.tag-kind')
          tagEn.addEventListener('click', async function(e) {
            if (e.target.tagName === 'LI') {
              for (var i = 0; i < tagEn.children.length; i++) {
                removeClass(tagEn.children[i], 'current')
              }
              addClass(e.target, 'current')
              prefix = e.target.getAttribute('prefix')
              await gainArtistInfo(1, category, prefix)
              currentArtistPage = 1
              gainRankListPage(artistPageWrap, maxArtistPage, currentArtistPage)
            }
          })
          tagKind.addEventListener('click',async function(e) {
            if (e.target.tagName === 'LI') {
              for (var i = 0; i < tagKind.children.length; i++) {
                removeClass(tagKind.children[i], 'current')
              }
              addClass(e.target, 'current')
              category = e.target.getAttribute('category')
              await gainArtistInfo(1, category, prefix)
              currentArtistPage = 1
              gainRankListPage(artistPageWrap, maxArtistPage, currentArtistPage)
            }
          })
          axios.request({
            url: 'http://192.168.1.148:3000/artistInfo',
            method: 'get'
          }).then(function(r) {
            if (r.status === 200) {
              artistPageWrap.innerHTML =
                '<i class="BtnL forbidden"><</i>' +
                '<ul>' +
                '</ul>' +
                '<i class="BtnR">></i>'
              var ul = artistPageWrap.querySelector('ul')
              for (var i = 1; i<= r.data.length/60; i++) {
                if (i <= 3) {
                  if (i === 1) {
                    ul.innerHTML += '<li class="num current">' + i + '</li>'
                  } else {
                    ul.innerHTML += '<li class="num">' + i + '</li>'
                  }
                }
              }
              if (i > 4) {
                ul.innerHTML +=
                  '<li class="notCursor">···</li>' +
                  '<li class="num">'+ Math.floor(r.data.length/60) +'</li>'
              }
              artistPageWrap.addEventListener('click', function(e) {
                if (e.target.tagName === 'LI' && hasClass(e.target, 'num')) {
                  for (var i = 0; i < artistPageWrap.children; i++) {
                    removeClass(artistPageWrap.children[i], 'current')
                  }
                  addClass(e.target, 'current')
                  currentArtistPage = Number(e.target.innerHTML)
                  gainArtistInfo(Number(e.target.innerHTML), category, prefix)
                  gainRankListPage(artistPageWrap, maxArtistPage, currentArtistPage)
                }
                if (hasClass(e.target, 'BtnL') && currentArtistPage > 1) {
                  gainArtistInfo(--currentArtistPage, category, prefix)
                  gainRankListPage(artistPageWrap, maxArtistPage, currentArtistPage)
                }
                if (hasClass(e.target, 'BtnR') && currentArtistPage < maxArtistPage) {
                  gainArtistInfo(++currentArtistPage, category, prefix)
                  gainRankListPage(artistPageWrap, maxArtistPage, currentArtistPage)
                }
              })
              firstAccess[currentPage] = 1
            } else { alert(r.statusText) }
          })
        }
        break
      }
    }
  }

  /* 首次打开加载首页内容 */
  gainListHandler(0)
  
  /* 图片懒加载 */
/*  window.addEventListener('scroll', throttle(function() {
    console.log(1)
    var img = []
    var imgs
    switch (currentPage) {
      case 0: {
        imgs = document.querySelectorAll('.song-list-device .song-list-content img')
        for (i = 0; i < imgs.length; i++) {
          img.push(imgs[i])
        }
        for (i = 0; i < img.length; i++) {
          if (isVisible(img[i])) {
            img[i].src = img[i].dataset.src
            img.splice(i, 1)
            i--
          }
        }
        img = []
        imgs = document.querySelectorAll('.song-list-artist .artist-list img')
        for (i = 0; i < imgs.length; i++) {
          img.push(imgs[i])
        }
        for (i = 0; i < img.length; i++) {
          if (isVisible(img[i])) {
            img[i].src = img[i].dataset.src
            img.splice(i, 1)
            i--
          }
        }
        break
      }
      case 1: {
        // 动态加载
        imgs = document.querySelectorAll('.rank-list .song-rank img')
        for (i = 0; i < imgs.length; i++) {
          img.push(imgs[i])
        }
        for (i = 0; i < img.length; i++) {
          if (isVisible(img[i])) {
            img[i].src = img[i].dataset.src
            img.splice(i, 1)
            i--
          }
        }
        imgs = document.querySelectorAll('.all-comment')[0].querySelectorAll('img')
        for (i = 0; i < imgs.length; i++) {
          img.push(imgs[i])
        }
        for (i = 0; i < img.length; i++) {
          if (isVisible(img[i])) {
            img[i].src = img[i].dataset.src
            img.splice(i, 1)
            i--
          }
        }
        imgs = document.querySelectorAll('.all-comment')[1].querySelectorAll('img')
        for (i = 0; i < imgs.length; i++) {
          img.push(imgs[i])
        }
        for (i = 0; i < img.length; i++) {
          if (isVisible(img[i]) && img[i].dataset.src) {
            img[i].src = img[i].dataset.src
            img.splice(i, 1)
            i--
          }
        }
        break
      }
      case 2: {
        imgs = document.querySelector('.artist-container').querySelectorAll('img')
        for (i = 0; i < imgs.length; i++) {
          img.push(imgs[i])
        }
        for (i = 0; i < img.length; i++) {
          if (isVisible(img[i]) && img[i].dataset.src) {
            img[i].src = img[i].dataset.src
            img.splice(i, 1)
            i--
          }
        }
        break
      }
    }
  }, 500))*/
</script>
</html>
