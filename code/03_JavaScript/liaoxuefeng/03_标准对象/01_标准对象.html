<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script>
    /* JS中一切都是对象,但某些对象还是和其他对象不一样,为了区分对象的类型,用typeof操作符获取对象的类型,typeof返回一个字符串 */
    console.log(typeof 123)// 'number'
    console.log(typeof NaN) // 'number'
    console.log(typeof 'str') // 'string'
    console.log(typeof true) // 'boolean'
    console.log(typeof undefined) // 'undefined'
    console.log(typeof Math.abs) // 'function'
    console.log(typeof null) // 'object'
    console.log(typeof []) // 'object'
    console.log(typeof {})// 'object'
    /* 由此可见,上述类型有别于其他类型,特别注意Array和null的类型均为object */

    /* 包装对象  除了这些对象,JS还提供了包装对象,number,boolean,string都有包装对象,JS中字符串也区分string类型和它的包装类型,包装对象用new创建 */
    let n = new Number(123) // 123,生成了新的包装类型
    let b = new Boolean(true)
    let s = new String('str')
    /* 虽然包装对象看上去和原来的值一模一样,显示出来也是一模一样,但他们的类型已经变为object类,所以包装对象和原始值用===比较会返回false */
    console.log(n === 123) // false
    console.log('所以绝对不要使用包装对象,尤其是string类型')
    /* 如果使用Number, Boolean和String时没有写new的话,Number(),Boolean()和String()都被当做普通函数,把任何类型的数据转换为number,boolean和string类型(不是其包装类型) */
    let n2 = Number(123) // 123,相当于parseInt()或parseFloat()
    console.log(typeof(n2)) // 'number'

    let b2 = Boolean('true') // true
    console.log(typeof b2)// 'boolean'
    let b3 = Boolean('false') // true 因为false字符串转换结果为true,它为非空字符串
    console.log(typeof b3) // 'boolean'
    let b4 = Boolean('') // false

    let s2 = String(123.45)
    console.log(typeof s) // 'string'

    /* 综上:
    *    1. 不要使用 new Number(), new Boolean(), new String()创建包装对象
    *    2. 用 parseInt()或 parseFloat()来转换任意类型到number
    *    3. 用 String()来转换任意类型到string, 或者直接调用某个对象的 toString()方法
    *    4. 通常不必把任意类型转换为 boolean类型再判断, 因为可以直接写 if (mylet) { ... }
    *    5. typeof 操作符可以判断出 number, boolean, string, function和 undefined
    *    6. 判断 Array要使用 Array.isArray(arr)
    *    7. 判断 null请使用 mylet === null
    *    8. 判断某个全局变量是否存在用 typeof window.mylet === 'undefined'
    *    9. 函数内部判断某个变量是否存在用 typeof mylet === 'undefined'
    *  */

    /* 并不是任何对象都有toString()方法,null和undefined没有,number对象调用toString会报SyntaxError */
    /* 123.toString() // SyntaxError */
    // 这种情况需要特殊处理
    123..toString() // '123' 注意是两个点
      /* 此处 JS采用IEEE 754规范双精度数字,JS中只有一种数字类型 ,它并没有为整数给出一种特定的类型,所有数字都是小数
      *     所以 123.toString()等价于 123.0toString()的语句就行不通, 而 123..toString(), 123 .toString(), (123).toString()都能得到正确的返回值
      *  */
    (123).toString() // '123'
  </script>
</head>
<body>

</body>
</html>
